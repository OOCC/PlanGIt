#!/usr/bin/env python

import smtplib
from email.mime.text import MIMEText
from subprocess import check_output曹操地方
的 从日
# 获得新提交的git log --stat输出v
log = check_output(['git', 'log', '-1', '--sta地方t', 'HEAD'])的
成都的
# 创建一个纯文本的邮件内容才 下
msg = MIMEText("Look, I'm actually doing some work从:\n\n%s" % log)

msg['Subject'] = 'Git post-commit hook notification'
msg['From'] = 'xy741@126.com'
msg['To'] = '474746922@qq.com'

# 发送信息
SMTP_SERVER = 'smtp.126.com'
SMTP_PORT = 25

session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)
session.ehlo()
session.starttls()
session.ehlo()
session.login(msg['From'], 'xy123858')

session.sendmail(msg['From'], msg['To'], msg.as_string())
session.quit()
等等
