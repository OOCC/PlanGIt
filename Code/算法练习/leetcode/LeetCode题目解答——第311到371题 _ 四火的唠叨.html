<!DOCTYPE html>
<!-- saved from url=(0028)http://www.raychase.net/4077 -->
<html dir="ltr" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<link rel="pingback" href="http://www.raychase.net/xmlrpc.php">
	
	<title>LeetCode题目解答——第311到371题 | 四火的唠叨</title>

<link rel="alternate" type="application/rss+xml" title="四火的唠叨 » Feed" href="http://www.raychase.net/feed">
<link rel="alternate" type="application/rss+xml" title="四火的唠叨 » 评论 Feed" href="http://www.raychase.net/comments/feed">
<link rel="alternate" type="application/rss+xml" title="四火的唠叨 » LeetCode题目解答——第311到371题 评论 Feed" href="http://www.raychase.net/4077/feed">
<link rel="stylesheet" id="category-posts-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/cat-posts.css" type="text/css" media="all">
<link rel="stylesheet" id="zee_stylesheet-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="zee_color_scheme-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/standard.css" type="text/css" media="all">
<link rel="stylesheet" id="mediaelementjs-styles-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/mediaelementplayer.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/pagenavi-css.css" type="text/css" media="all">
<link rel="stylesheet" id="decent-comments-widget-css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/decent-comments-widget.css" type="text/css" media="all">
<script async="" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/analytics.js.下载"></script><script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/jquery.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/comment-reply.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/jquery.cycle.all.min.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/mediaelement-and-player.min.js.下载"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.raychase.net/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.raychase.net/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="一些前端框架的比较（下）——Ember.js和React" href="http://www.raychase.net/4111">
<link rel="next" title="克罗恩病" href="http://www.raychase.net/4200">
<meta name="generator" content="WordPress 3.4">
<link rel="shortlink" href="http://www.raychase.net/?p=4077">

<!-- All in One SEO Pack 1.6.15.2 by Michael Torbert of Semper Fi Web Designob_start_detected [-1,-1] -->
<meta name="description" content="老规矩，跳过需要付费的题目。题目是越来越不好做，我尽量把自己的思路写下来。 371 Sum of Two Integers  51.9% Easy">
<meta name="keywords" content="leetcode,algorithm &amp; data structure">
<link rel="canonical" href="http://www.raychase.net/4077">
<!-- /all in one seo pack -->

<link rel="stylesheet" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/wp-shareto.css" type="text/css">
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/wp-shareto.js.下载"></script><style type="text/css"></style>	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css">
        #custom_header img {
			margin-top: 20px;
			width: 900px;
            height: 140px;
        }
    </style><link rel="stylesheet" type="text/css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shCore.css"><link rel="stylesheet" type="text/css" href="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shThemeDefault.css"><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3">
</head>

<body class="single single-post postid-4077 single-format-standard">
<div id="wrapper">

	<div id="header">

			<div id="logo">
									<a href="http://www.raychase.net/"><h1>四火的唠叨</h1></a>
							</div>
			<div id="navi">
				<ul id="nav" class="menu"><li class="page_item page-item-528"><a href="http://www.raychase.net/allarticles">所有文章</a></li>
<li class="page_item page-item-12"><a href="http://www.raychase.net/aboutme">关于四火</a></li>
<li class="page_item page-item-4397"><a href="http://www.raychase.net/travel">旅行映像</a></li>
<li class="page_item page-item-655"><a href="http://www.raychase.net/resources">资源链接</a></li>
</ul>			</div>
	</div>
	<div class="clear"></div>
	
	<div id="wrap">

		<div id="content">
		
				
			<div id="post-4077" class="post-4077 post type-post status-publish format-standard hentry category-algorithm-data-structure tag-leetcode">
			
				<div class="post_date">
					<span class="post_day"><a href="http://www.raychase.net/4077">19</a></span>
					<span class="post_year">一 2017 </span>
				</div>
				
				<div class="postmeta">
					<a href="http://www.raychase.net/category/algorithm-data-structure" title="查看 Algorithm &amp; Data Structure 中的全部文章" rel="category tag">Algorithm &amp; Data Structure</a>				</div>
				<h2>LeetCode题目解答——第311到371题</h2>
				
				<div class="clear"></div>
				
				<div class="entry">
										<p>老规矩，跳过需要付费的题目。题目是越来越不好做，我尽量把自己的思路写下来。</p>
<table class="table table-striped" style="box-sizing: border-box; font-size: 14px; margin-bottom: 20px; max-width: 100%; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; border-collapse: collapse; color: #333333; border-spacing: 0px; orphans: 2; widows: 2">
<tbody class="reactable-data" style="box-sizing: border-box">
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">371</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#sum-of-two-integers">Sum of Two Integers</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">51.9%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">368</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#largest-divisible-subset">Largest Divisible Subset</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">31.9%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">367</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#valid-perfect-square">Valid Perfect Square</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">36.9%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">365</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#water-and-jug-problem">Water and Jug Problem</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">24.7%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">363</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#max-sum-of-sub-matrix-no-larger-than-k">Max Sum of Rectangle No Larger Than K</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">30.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">357</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#count-numbers-with-unique-digits">Count Numbers with Unique Digits</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">44.2%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">355</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#design-twitter">Design Twitter</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">23.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">354</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#russian-doll-envelopes">Russian Doll Envelopes</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">30.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">352</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#data-stream-as-disjoint-intervals">Data Stream as Disjoint Intervals</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">38.2%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">350</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#intersection-of-two-arrays-ii">Intersection of Two Arrays II</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">42.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">349</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#intersection-of-two-arrays">Intersection of Two Arrays</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">44.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">347</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#top-k-frequent-elements">Top K Frequent Elements</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">44.4%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">345</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#reverse-vowels-of-a-string">Reverse Vowels of a String</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">36.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">344</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#reverse-string">Reverse String</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">58.1%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">343</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#integer-break">Integer Break</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">43.8%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">342</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#power-of-four">Power of Four</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">36.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">341</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#flatten-nested-list-iterator">Flatten Nested List Iterator</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">35.3%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">338</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#counting-bits">Counting Bits</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">58.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">337</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#house-robber-iii">House Robber III</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">40.2%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">336</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#palindrome-pairs">Palindrome Pairs</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">22.7%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">335</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#self-crossing">Self Crossing</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">22.8%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">334</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#increasing-triplet-subsequence">Increasing Triplet Subsequence</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">36.7%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">332</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#reconstruct-itinerary">Reconstruct Itinerary</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">26.8%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">331</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#verify-preorder-serialization-of-a-binary-tree">Verify Preorder Serialization of a Binary Tree</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">33.9%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">330</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#patching-array">Patching Array</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">30.8%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">329</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#longest-increasing-path-in-a-matrix">Longest Increasing Path in a Matrix</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">34.0%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">328</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#odd-even-linked-list">Odd Even Linked List</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">40.7%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">327</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#count-of-range-sum">Count of Range Sum</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">27.7%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">326</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#power-of-three">Power of Three</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">38.6%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Easy</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">324</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#wiggle-sort-ii">Wiggle Sort II</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">24.3%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">322</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#coin-change">Coin Change</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">25.8%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">321</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#create-maximum-number">Create Maximum Number</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">22.9%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">319</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#bulb-switcher">Bulb Switcher</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">41.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">318</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#maximum-product-of-word-lengths">Maximum Product of Word Lengths</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">41.3%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">316</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#remove-duplicate-letters">Remove Duplicate Letters</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">27.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">315</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#count-of-smaller-numbers-after-self">Count of Smaller Numbers After Self</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">32.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
<tr style="box-sizing: border-box">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">313</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#super-ugly-number">Super Ugly Number</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">36.5%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Medium</td>
</tr>
<tr style="box-sizing: border-box; background-color: #f9f9f9">
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">312</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">
<div style="box-sizing: border-box"><a style="box-sizing: border-box; text-decoration: none; color: #0088cc; background-color: transparent" href="http://www.raychase.net/4077#burst-balloons">Burst Balloons</a>&nbsp; </div>
</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">40.4%</td>
<td style="box-sizing: border-box; border-top: #dddddd 1px solid; vertical-align: top; padding-bottom: 8px; padding-top: 8px; padding-left: 8px; line-height: 1.4285; padding-right: 8px">Hard</td>
</tr>
</tbody>
</table>
<p><strong><span style="color: #ff0000"><a id="sum-of-two-integers">Sum of Two Integers</a></span></strong></p>
<p>【题目】</p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Calculate the sum of two integers<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">a</i><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">b</i>, but you are<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">not allowed</b><span class="Apple-converted-space">&nbsp;</span>to use the operator</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">+</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">and</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">-</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">a</i><span class="Apple-converted-space">&nbsp;</span>= 1 and<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">b</i><span class="Apple-converted-space">&nbsp;</span>= 2, return 3.</font></p>
<p>【解答】俩数相加，不许用加减号。</p>
<p>不能用加减号，于是考虑用位操作。但是怎样做呢？考虑位操作的几种方式，与、或、非、异或、左移、右移，哪些可以联合起来模拟加法呢？</p>
<ol>
<li>首先a和b异或一下得到x，因为每一位上相加，如果两个都是0，结果就是0，如果两个都是1，结果还是0，只有一个1一个0，结果才是1。  </li>
<li>但是单单异或是不够的，因为这样做完全没有考虑进位的问题。于是a和b与一下，因为每一位上相加，如果都是0，不需要进位，如果一个1一个0，也不需要进位，只有两个都是1才需要进位。相与之后还需要左移一位，因为进位的关系，进位的”1″必须要作用在更高一位才有用。  </li>
<li>上面这两个结果，作为新的参数继续去调用getSum计算，反复进行，直到没有进位为止。</li>
</ol>
<div><div id="highlighter_241331" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">getSum(</code><code class="java keyword">int</code> <code class="java plain">a, </code><code class="java keyword">int</code> <code class="java plain">b) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">b;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">x = a ^ b;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">c = (a &amp; b) &lt;&lt; </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">getSum(c, x);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="largest-divisible-subset">Largest Divisible Subset</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a set of<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">distinct</b><span class="Apple-converted-space">&nbsp;</span>positive integers, find the largest subset such that every pair (S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">i</font></sub><font style="font-size: 10.5pt">, S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">j</font></sub><font style="font-size: 10.5pt">) of elements in this subset satisfies: S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">i</font></sub><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><font style="font-size: 10.5pt">% S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">j</font></sub><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><font style="font-size: 10.5pt">= 0 or S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">j</font></sub><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><font style="font-size: 10.5pt">% S</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">i</font></sub><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><font style="font-size: 10.5pt">= 0.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">If there are multiple solutions, return any subset is fine.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">nums: [1,2,3]

Result: [1,2] (of course, [1,3] will also be ok)
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">nums: [1,2,4,8]

Result: [1,2,4,8]</font></pre>
<p>【解答】要找这样的一个子集合，使得所有元素都可以互为整除或者被整除的关系。</p>
<p>在一切开始前，大脑里面大致有这样一个方向：我需要把nums排序，然后从较小的一端开始逐个审查归类，因为每查看一个新数的时候，我应该在手边有一个不断构建着的集合，这个集合根据整除关系包含了若干个分类，而且里面的数都比当前审查的数小，所以我会挨个从集合里拿出数来去尝试整除这个被审查数，根据结果去更新这个集合。</p>
<p>于是我建立这样一个数据结构：一个list，其中第i个元素表示以nums[i]作为最大值且必须包含它的最大分类；而每个分类又是由一串数组成，它们互为整除或被整除关系，并且升序排列。为什么要升序排列？因为排列以后，每个分类最大的那个数，可以作为分类的代表，如果有新数要比较，和它比就可以，如果它和新数存在前面提到的整除关系，那么这个分类中任何一个数都会和新数存在整除关系。这一点是解题的关键。</p>
<div><div id="highlighter_972492" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Integer&gt; largestDivisibleSubset(</code><code class="java keyword">int</code><code class="java plain">[] nums) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums.length==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// lens[i] means the largest divisible subset which is in asc sort and ended with nums[i]</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;List&lt;Integer&gt;&gt; lens = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Arrays.sort(nums);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; first = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">first.add(nums[</code><code class="java value">0</code><code class="java plain">]);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lens.add(first);</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">1</code><code class="java plain">; i&lt;nums.length; i++) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer maxIndex = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=</code><code class="java value">0</code><code class="java plain">; j&lt;i; j++) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; list = lens.get(j);</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(maxIndex!=</code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; list.size() &lt;= lens.get(maxIndex).size())</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">prevMax = list.get(list.size()-</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i] % prevMax == </code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">maxIndex = j;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; newList;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(maxIndex==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newList = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newList = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(lens.get(maxIndex));</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newList.add(nums[i]);</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lens.add(newList);</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; result = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(List&lt;Integer&gt; list : lens) {</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(result==</code><code class="java keyword">null</code> <code class="java plain">|| result.size()&lt;list.size())</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result = list;</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number46 index45 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="valid-perfect-square">Valid Perfect Square</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a positive integer<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">num</i>, write a function which returns True if<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">num</i><span class="Apple-converted-space">&nbsp;</span>is a perfect square else False.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">Note:</font></b></font><font style="font-size: 10.5pt"><span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">Do not</b><span class="Apple-converted-space">&nbsp;</span>use any built-in library function such as</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">sqrt</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Input: 16
Returns: True
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Input: 14
Returns: False</font></pre>
<p>【解答】判断一个数是不是完全平方数。</p>
<p>我记得小时候老师就说，要证明一个大于1的数x是不是完全平方数，可以从x/2开始试起，慢慢减小。这个可以减小计算量。结论应该是对的，但是需要证明一下以严谨一点：</p>
<blockquote>
<p>x^2 – 2*x = x^2 – 2*x + 1 – 1 = (x-1)^2 -1 &gt;= -1, when x&gt;=2 it’s &gt;= 0<br>so x^2 &gt;= 2*x when x&gt;=2</p>
</blockquote>
<p>好了，这就可以写代码了。使用long型，防止平方的时候溢出：</p>
<div><div id="highlighter_109582" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isPerfectSquare(</code><code class="java keyword">int</code> <code class="java plain">num) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(num==</code><code class="java value">0</code> <code class="java plain">|| num==</code><code class="java value">1</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">half = num/</code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">long</code> <code class="java plain">i=half; i&gt;</code><code class="java value">0</code><code class="java plain">; i--) { </code><code class="java comments">// long</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(i*i&gt;num)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(i*i==num)</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="water-and-jug-problem">Water and Jug Problem</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">You are given two jugs with capacities<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">x</i><span class="Apple-converted-space">&nbsp;</span>and<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">y</i><span class="Apple-converted-space">&nbsp;</span>litres. There is an infinite amount of water supply available. You need to determine whether it is possible to measure exactly<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">z</i><span class="Apple-converted-space">&nbsp;</span>litres using these two jugs.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">If<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">z</i><span class="Apple-converted-space">&nbsp;</span>liters of water is measurable, you must have<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">z</i><span class="Apple-converted-space">&nbsp;</span>liters of water contained within<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">one or both buckets</b><span class="Apple-converted-space">&nbsp;</span>by the end.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Operations allowed:</font></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Fill any of the jugs completely with water.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Empty any of the jugs.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Pour water from one jug into another till the other jug is completely full or the first jug itself is empty.</font></li>
</ul>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"></font><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">Example 1:</font></b></font><font style="font-size: 10.5pt"><span class="Apple-converted-space">&nbsp;</span>(From the famous<span class="Apple-converted-space">&nbsp;</span></font><font style="font-size: 10.5pt"><a style="box-sizing: border-box; text-decoration: ; color: " href="https://www.youtube.com/watch?v=BVtQNK_ZUJg" target="_blank" onclick="urchinTracker(&#39;/outgoing/www.youtube.com/watch?v=BVtQNK_ZUJg&amp;referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);"><font color="#0088cc"></font><font face="Helvetica"><i style="box-sizing: border-box"><font style="text-decoration: none">“Die Hard”</font></i></font><font style="text-decoration: none"><span class="Apple-converted-space">&nbsp;</span>example</font></a></font><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">)</font></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Input: x = 3, y = 5, z = 4
Output: True
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Input: x = 2, y = 6, z = 5
Output: False</font></pre>
<p>【解答】看起来很熟悉，小学里就接触这一类问题的简单版。有两个壶，分别可以装x和y升水，能提供无限水的情况下，问能不能弄出z升水来。</p>
<p>题目描述那么简单，通用性那么强，很容易给人一个“数学定理”的感觉。事实上，还真有一个数学定理来帮助解决这个问题，如果不知道那个定理，这个题目做起来就会非常痛苦，如果知道，那就非常简单。这个定理，就叫做<a href="https://zh.wikipedia.org/wiki/%E8%B2%9D%E7%A5%96%E7%AD%89%E5%BC%8F" target="_blank" onclick="urchinTracker(&#39;/outgoing/zh.wikipedia.org/wiki/_E8_B2_9D_E7_A5_96_E7_AD_89_E5_BC_8F?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">裴蜀定理</a>（维基百科上有证明）：</p>
<blockquote>
<p>对任何整数a、b和它们的最大公约数d，关于未知数x和y的裴蜀等式：<br>ax + by = m<br>有整数解时当且仅当m是d的倍数。<br>裴蜀等式有解时必然有无穷多个整数解。</p>
</blockquote>
<p>而这个问题，就可以映射到上面这个式子中去。于是我们可以求这两个壶容量的最大公约数，看看要弄出的水升数z是不是这个最大公约数的倍数。这种题居然不是hard真是天理难容……</p>
<div><div id="highlighter_557560" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">canMeasureWater(</code><code class="java keyword">int</code> <code class="java plain">x, </code><code class="java keyword">int</code> <code class="java plain">y, </code><code class="java keyword">int</code> <code class="java plain">z) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//limit brought by the statement that water is finallly in one or both buckets</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(x + y &lt; z) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//case x or y is zero</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">( x == z || y == z || x + y == z ) </code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//get GCD, then we can use the property of Bézout's identity</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">z%GCD(x, y) == </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">GCD(</code><code class="java keyword">int</code> <code class="java plain">a, </code><code class="java keyword">int</code> <code class="java plain">b){</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(b != </code><code class="java value">0</code> <code class="java plain">){</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">temp = b;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">b = a%b;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">a = temp;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">a;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number20 index19 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="max-sum-of-sub-matrix-no-larger-than-k">Max Sum of Rectangle No Larger Than K</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a non-empty 2D matrix<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">matrix</i><span class="Apple-converted-space">&nbsp;</span>and an integer<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">k</i>, find the max sum of a rectangle in the<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">matrix</i><span class="Apple-converted-space">&nbsp;</span>such that its sum is no larger than<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">k</i>.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Given matrix = [
  [1,  0, 1],
  [0, -2, 3]
]
k = 2
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">The answer is</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">2</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">. Because the sum of rectangle</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[[0, 1], [-2, 3]]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">is 2 and 2 is the max number no larger than k (k = 2).</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Note:</font></b><br style="box-sizing: border-box"></p>
<ol style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">The rectangle inside the matrix must have an area &gt; 0.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">What if the number of rows is much larger than the number of columns?</font></li>
</ol>
<p>【解答】要找一个矩形，让矩形框起来的范围内，所有数的和能够不超过k，但是又要尽量大。这道题我折腾了挺长时间也没有做对，我觉得还是比较难的。下面这个解法来自讨论区的<a href="https://discuss.leetcode.com/topic/48854/java-binary-search-solution-time-complexity-min-m-n-2-max-m-n-log-max-m-n" target="_blank" onclick="urchinTracker(&#39;/outgoing/discuss.leetcode.com/topic/48854/java-binary-search-solution-time-complexity-min-m-n-2-max-m-n-log-max-m-n?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">这个帖子</a>，我认为是我看到的几个解法里面比较好的。就着代码做一个说明。为了简化理解的复杂度，不妨假设列数&gt;行数。</p>
<p>通过i从0到m的循环，和j从i到0的循环，形成[j, i]这样一个区间，在这样的循环内部我们会看到二维问题被转化为一维问题来求解。</p>
<ul>
<li>数组array用来记录这样一种累加值：array[k]表示在i已经锁定的情况下，随着j不断变小，行区间[i, j]跨度不断变大，又有从第0列到第k列[0, k]形成了列区间，对于仅仅第k列这单列，在不同行跨度下的累加值。
</li>
<li>val则是在i、j都锁定的情况下，即行区间完全确定的情况下，对不同k的时候，array[k]的累加。也就是说，即随着k从0变化到n，val表示从第0列到第k列，以及从第j行到i行，所形成的的这样一个矩形包含所有数的累加值。这个val是要被不断放入一个TreeSet的。
</li>
<li>val-target就是这个矩形值和目标值的差距，使用这个TreeSet的ceiling方法（这也是使用TreeSet的原因，查找的复杂度是log n），去找一个必须大于等于这个差距的最小值subres。这里减去target再去TreeSet里面找就是为了保证在计算差距的时候始终预留好目标值的空间。
</li>
<li>用val这个矩形值减去subres，就是小于目标值，但是又尽量大的结果了。</li>
</ul>
<p>分析一下复杂度：min(m,n)^2 * max(m,n) * log(max(m,n))，还是假设列数&gt;行数以简化描述。</p>
<ol>
<li>i和j的不断变化，形成[j, i]这样的行区间，这里有i和j的循环嵌套，因此这一步复杂度是m的平方；
</li>
<li>k从0变化到n，因此这一步复杂度是n；
</li>
<li>对于TreeSet的使用，时间复杂度是log n。</li>
</ol>
<p>因此，三者相乘，就形成了这样的复杂度。</p>
<div><div id="highlighter_872349" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java comments">/* first&nbsp; consider the situation matrix is 1D</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">we can save every sum of 0~i(0&lt;=i&lt;len) and binary search previous sum to find </code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">possible result for every index, time complexity is O(NlogN).</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">so in 2D matrix, we can sum up all values from row i to row j and create a 1D array </code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">to use 1D array solution.</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">If col number is less than row number, we can sum up all values from col i to col j </code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">then use 1D array solution.</code></div><div class="line number8 index7 alt1"><code class="java comments">*/</code></div><div class="line number9 index8 alt2"><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">maxSumSubmatrix(</code><code class="java keyword">int</code><code class="java plain">[][] matrix, </code><code class="java keyword">int</code> <code class="java plain">target) {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">row = matrix.length;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(row==</code><code class="java value">0</code><code class="java plain">)</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">col = matrix[</code><code class="java value">0</code><code class="java plain">].length;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">m = Math.min(row,col);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">n = Math.max(row,col);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//indicating sum up in every row or every column</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">colIsBig = col&gt;row;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">res = Integer.MIN_VALUE;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code><code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">;i&lt;m;i++){</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] array = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[n];</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// sum from row j to row i</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code><code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j = i;j&gt;=</code><code class="java value">0</code><code class="java plain">;j--){</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">val = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">TreeSet&lt;Integer&gt; set = </code><code class="java keyword">new</code> <code class="java plain">TreeSet&lt;Integer&gt;();</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set.add(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//traverse every column/row and sum up</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code><code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">k = </code><code class="java value">0</code><code class="java plain">;k&lt;n;k++){</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">array[k]=array[k]+(colIsBig?matrix[j][k]:matrix[k][j]);</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">val = val + array[k];</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//use&nbsp; TreeMap to binary search previous sum to get possible result </code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer subres = set.ceiling(val-target);</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(</code><code class="java keyword">null</code><code class="java plain">!=subres){</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">res=Math.max(res,val-subres);</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set.add(val);</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">res;</code></div><div class="line number39 index38 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="count-numbers-with-unique-digits">Count Numbers with Unique Digits</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">non-negative</b><span class="Apple-converted-space">&nbsp;</span>integer n, count all numbers with unique digits, x, where 0 ≤ x &lt; 10</font><sup style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; top: -5px"><font style="font-size: 7.5pt">n</font></sup><font style="font-size: 10.5pt">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given n = 2, return 91. (The answer should be the total numbers in the range of 0 ≤ x &lt; 100, excluding</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[11,22,33,44,55,66,77,88,99]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">)</font></p>
<p>【解答】要找不包含重复数字的数。主要思路还是分类讨论。</p>
<p>这里有一个比较容易想到的递归关系，比如n=3的时候，如果我能够拿到n=2的结果，即0≤x&lt;100，再加上101≤x&lt;1000之间的部分，就可以得到结果。也就是说，是对于所有一位数和两位数的解，再加上新增加的三位数的部分。</p>
<p>但是怎么得到这个三位数部分的解，有两种方向可以考虑（起码我是这样想的）：（1）已知的所有两位数，或者是十位为0并拼接一位数的所有可能，合并起来再在百位上放一个非0的数，这样形成的三位数里面，去掉重复数字的部分；（2）单独考虑满足条件的三位数形成的所有组合，不和两位数的关联关系挂钩。如果按照思路（1）走，也许也能得出结果，但是逻辑会非常复杂；下面是按照（2）的思路来进行的步骤：</p>
<ul>
<li>先递归拿到n如果是n-1的时候的解。
</li>
<li>然后考虑n位数部分，最高位只有从1到9这9种可能，因为0不能选；次高位有0到9，但是去除最高位已经用过的数，因此也是9种可能；再往下，则是8种可能；再往下是7种……把这些可能累加起来即可。
</li>
<li>注意的是，由于数字只有从0到9这10个，因此如果n&gt;10了，随着n的增加，结果无法再增加了。</li>
</ul>
<div><div id="highlighter_724352" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">countNumbersWithUniqueDigits(</code><code class="java keyword">int</code> <code class="java plain">n) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">total = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(n&gt;</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">total += countNumbersWithUniqueDigits(n-</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">1</code><code class="java plain">;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(n&gt;</code><code class="java value">10</code><code class="java plain">)</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">total;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">product = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">numberToSelect = </code><code class="java value">10</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=n; i&gt;=</code><code class="java value">1</code> <code class="java plain">; i--) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// the highest digit, 0 is disallowed</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(i==n) {</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">product *= </code><code class="java value">9</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">product *= numberToSelect;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">numberToSelect--;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">total + product;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="design-twitter">Design Twitter</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Design a simplified version of Twitter where users can post tweets, follow/unfollow another user and is able to see the 10 most recent tweets in the user’s news feed. Your design should support the following methods:</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><ol style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">postTweet(userId, tweetId)</font></b></font><font style="font-size: 10.5pt">: Compose a new tweet.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">getNewsFeed(userId)</font></b></font><font style="font-size: 10.5pt">: Retrieve the 10 most recent tweet ids in the user’s news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least recent.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">follow(followerId, followeeId)</font></b></font><font style="font-size: 10.5pt">: Follower follows a followee.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">unfollow(followerId, followeeId)</font></b></font><font style="font-size: 10.5pt">: Follower unfollows a followee.</font></li>
</ol>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">Twitter twitter = new Twitter();

// User 1 posts a new tweet (id = 5).
twitter.postTweet(1, 5);

// User 1's news feed should return a list with 1 tweet id -&gt; [5].
twitter.getNewsFeed(1);

// User 1 follows user 2.
twitter.follow(1, 2);

// User 2 posts a new tweet (id = 6).
twitter.postTweet(2, 6);

// User 1's news feed should return a list with 2 tweet ids -&gt; [6, 5].
// Tweet id 6 should precede tweet id 5 because it is posted after tweet id 5.
twitter.getNewsFeed(1);

// User 1 unfollows user 2.
twitter.unfollow(1, 2);

// User 1's news feed should return a list with 1 tweet id -&gt; [5],
// since user 1 is no longer following user 2.
twitter.getNewsFeed(1);</font></pre>
<p>【解答】这一类问题还是比较有趣的，因为和实际问题（需求）更接近。仔细斟酌题目中的四个case，其中3和4看起来似乎单纯和简单一些：用map就可以解决，一个用户id映射到一串用户id，以表示follow的关系。和tweet相关的1和2中，1似乎也比较容易处理，也是一个map的映射关系。麻烦的是2，一个用户可以follow若干个不同的其它用户，要返回这堆用户中最近的10条tweet，看起来似乎没有特别好的办法。因为这10条可能集中在某一个人身上，也可能分散在不同的人当中。</p>
<p>不过，一点是肯定的，无论是集中还是分散，任何一个人所发的tweet中，不可能取回超过10条。因此可以从该用户关注的所有人中，每个人都取得最多10条最近的tweet，然后把结果汇总起来按时间排序，返回最近的10条即可。这个思路看起来很像MapReduce那个经典的取top xx的问题。</p>
<p>最后，既然要涉及单个人的“最近”10条tweet，那就需要在存储这些tweet的时候：（1）按照不同的用户来归类；（2）按照时间顺序来存放。</p>
<p>有了这些思路，整理一下，这道题还是比较容易解出来的。这样的问题，把具体问题抽象成可以解决的数学问题，特别是找到合适的数据结构来表示这些物件之间的关系，是解决问题的关键。同为算法问题，有些问题“算”本身的逻辑比较复杂，有些问题则是把复杂性放在模型的建立上。</p>
<div><div id="highlighter_345311" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">TweetItem </code><code class="java keyword">implements</code> <code class="java plain">Comparable&lt;TweetItem&gt; {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">time;</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">tweetId;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">TweetItem (</code><code class="java keyword">int</code> <code class="java plain">time, </code><code class="java keyword">int</code> <code class="java plain">tweetId) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.time = time;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.tweetId = tweetId;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">compareTo(TweetItem that) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">this</code><code class="java plain">.time &lt; that.time)</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">1</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">this</code><code class="java plain">.time == that.time)</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2"><code class="java plain">}</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Twitter {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Map&lt;Integer, List&lt;TweetItem&gt;&gt; tweets = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Map&lt;Integer, Set&lt;Integer&gt;&gt; follows = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">time = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">int</code> <code class="java plain">RECENT_TWEET_COUNT = </code><code class="java value">10</code><code class="java plain">;</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Initialize your data structure here. */</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Twitter() {</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Compose a new tweet. */</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">postTweet(</code><code class="java keyword">int</code> <code class="java plain">userId, </code><code class="java keyword">int</code> <code class="java plain">tweetId) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!tweets.containsKey(userId))</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tweets.put(userId, </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;());</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tweets.get(userId).add(</code><code class="java keyword">new</code> <code class="java plain">TweetItem(time++, tweetId));</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Retrieve the 10 most recent tweet ids in the user's news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least recent. */</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Integer&gt; getNewsFeed(</code><code class="java keyword">int</code> <code class="java plain">userId) {</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;Integer&gt; set;</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!follows.containsKey(userId))</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set = follows.get(userId);</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// himself/herself</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set.add(userId);</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;TweetItem&gt; newTweets = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">fId : set) {</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!tweets.containsKey(fId))</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;TweetItem&gt; subList;</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(tweets.get(fId).size() &gt; RECENT_TWEET_COUNT){</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// latest 10 records</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subList = tweets.get(fId).subList(tweets.get(fId).size()-RECENT_TWEET_COUNT, tweets.get(fId).size());</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subList = tweets.get(fId).subList(</code><code class="java value">0</code><code class="java plain">, tweets.get(fId).size());</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newTweets.addAll(subList);</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Collections.sort(newTweets);</code></div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;TweetItem&gt; subTweets;</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(newTweets.size() &gt; RECENT_TWEET_COUNT) {</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subTweets = newTweets.subList(</code><code class="java value">0</code><code class="java plain">, RECENT_TWEET_COUNT);</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subTweets = newTweets;</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; retList = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(TweetItem item : subTweets) {</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">retList.add(item.tweetId);</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">retList;</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Follower follows a followee. If the operation is invalid, it should be a no-op. */</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">follow(</code><code class="java keyword">int</code> <code class="java plain">followerId, </code><code class="java keyword">int</code> <code class="java plain">followeeId) {</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!follows.containsKey(followerId))</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">follows.put(followerId, </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;());</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">follows.get(followerId).add(followeeId);</code></div><div class="line number89 index88 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Follower unfollows a followee. If the operation is invalid, it should be a no-op. */</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">unfollow(</code><code class="java keyword">int</code> <code class="java plain">followerId, </code><code class="java keyword">int</code> <code class="java plain">followeeId) {</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!follows.containsKey(followerId))</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">follows.get(followerId).remove(followeeId);</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number98 index97 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="russian-doll-envelopes">Russian Doll Envelopes</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">You have a number of envelopes with widths and heights given as a pair of integers</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">(w, h)</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">. One envelope can fit into another if and only if both the width and height of one envelope is greater than the width and height of the other envelope.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">What is the maximum number of envelopes can you Russian doll? (put one inside other)</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given envelopes =</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[[5,4],[6,4],[6,7],[2,3]]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, the maximum number of envelopes you can Russian doll is</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">3</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">([2,3] =&gt; [5,4] =&gt; [6,7]).</font></p>
<p>【解答】像俄罗斯套娃一样的套信封问题，怎样套到最多的信封。如果是一维的问题，这道题是非常简单的，从最小的信封开始，每次都尽可能去挑最小的信封套。但是现在是二维的问题（宽和高），也是题目相对来说难度增加的地方。如果把单独一维抽出来讨论，是肯定无法做到最优解的。下面是我的思路，相对简单，但是可以优化。</p>
<ul>
<li>首先排序，优先考虑宽，宽一样的时候考虑高。
</li>
<li>然后两重循环，第一层从序列的头到末尾，也就是说宽度是递增的；第二层从i-1到0，也就是说宽度是递减的（因为 ≥i 的部分宽度更大，显然无法放到当前的信封内）。使用numberArray存储排序完之后，第i个信封为最外层时，最多可以套到多少个信封。
</li>
<li>在循环内判断宽和高，要求外层的宽大于内层的宽，外层的高大于内层的高。</li>
</ul>
<p>也就是说，整个过程里面，宽这一维做到了减少暴力解法带来的过多计算问题，因为第二层比较时只需要从i-1遍历到0；但是高这一维度却没有。</p>
<div><div id="highlighter_31532" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">maxEnvelopes(</code><code class="java keyword">int</code><code class="java plain">[][] envelopes) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(envelopes == </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">IllegalArgumentException();</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Arrays.sort(envelopes, </code><code class="java keyword">new</code> <code class="java plain">Comparator&lt;</code><code class="java keyword">int</code><code class="java plain">[]&gt;() {</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">compare(</code><code class="java keyword">int</code><code class="java plain">[] left, </code><code class="java keyword">int</code><code class="java plain">[] right) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(left[</code><code class="java value">0</code><code class="java plain">] != right[</code><code class="java value">0</code><code class="java plain">]) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">left[</code><code class="java value">0</code><code class="java plain">] - right[</code><code class="java value">0</code><code class="java plain">];</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">left[</code><code class="java value">1</code><code class="java plain">] - right[</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">});</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">max = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] numberArray = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[envelopes.length];</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; envelopes.length; i++) {</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">numberArray[i] = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j = i - </code><code class="java value">1</code><code class="java plain">; j &gt;= </code><code class="java value">0</code><code class="java plain">; j--) {</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(envelopes[i][</code><code class="java value">0</code><code class="java plain">] &gt; envelopes[j][</code><code class="java value">0</code><code class="java plain">] &amp;&amp; envelopes[i][</code><code class="java value">1</code><code class="java plain">] &gt; envelopes[j][</code><code class="java value">1</code><code class="java plain">]) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">numberArray[i] = Math.max(numberArray[i], numberArray[j] + </code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = Math.max(max, numberArray[i]);</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="data-stream-as-disjoint-intervals">Data Stream as Disjoint Intervals</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a data stream input of non-negative integers a</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">1</font></sub><font style="font-size: 10.5pt">, a</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">2</font></sub><font style="font-size: 10.5pt">, …, a</font><sub style="box-sizing: border-box; vertical-align: baseline; position: relative; line-height: 0; bottom: -2px"><font style="font-size: 7.5pt">n</font></sub><font style="font-size: 10.5pt">, …, summarize the numbers seen so far as a list of disjoint intervals.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">For example, suppose the integers from the data stream are 1, 3, 7, 2, 6, …, then the summary will be:</font></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">[1, 1]
[1, 1], [3, 3]
[1, 1], [3, 3], [7, 7]
[1, 3], [7, 7]
[1, 3], [6, 7]
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Follow up:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">What if there are lots of merges and the number of disjoint intervals are small compared to the data stream’s size?</font></p>
<p>【解答】首先要理解题意，随着数据流不断地流入，要把不断添加进来的数据进行分段，凡是连着的整数就算一段，每次调用getIntervals要打印出现在所有的数据段。</p>
<p>下面的方法是我开始思考的方法，使用TreeMap，也就是红黑树，使用它有一个好处，在于key是排序了的，这样可以用log n的复杂度找到邻近的数据段。这个map的key是数值，value是这个点的类型，分为三种：数据段开头、数据段结尾，以及数据点（即即为开头又为结尾）。然后分类讨论，用这种方法大致的方向是对的，但是下面分类讨论的case非常多，导致代码非常复杂。最后有一个巨长的测试case过不去，也不是很好调试了。为了记录思路，我把这个不好的代码例子先放在下面。</p>
<div><div id="highlighter_708618" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">SummaryRanges {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">Integer RANGE_START = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">Integer RANGE_END = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">Integer RANGE_START_AND_END = </code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">TreeMap&lt;Integer, Integer&gt; tm = </code><code class="java keyword">new</code> <code class="java plain">TreeMap&lt;&gt;();</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/** Initialize your data structure here. */</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">SummaryRanges() {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">addNum(</code><code class="java keyword">int</code> <code class="java plain">val) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map.Entry&lt;Integer, Integer&gt; ceiling = tm.ceilingEntry(val);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map.Entry&lt;Integer, Integer&gt; floor = tm.floorEntry(val);</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling == </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; floor == </code><code class="java keyword">null</code><code class="java plain">) { </code><code class="java comments">// case 1: the tree map is empty</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START_AND_END);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(ceiling == </code><code class="java keyword">null</code><code class="java plain">) { </code><code class="java comments">// case 2: put the value at the end of the ranges</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getKey() == val) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(floor.getKey() == val-</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_END);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getValue() == RANGE_END)</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(floor.getKey());</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java comments">// floor.getValue() == RANGE_START_AND_END</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(floor.getKey(), RANGE_START);</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START_AND_END);</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(floor == </code><code class="java keyword">null</code><code class="java plain">) { </code><code class="java comments">// case 3: put the value at the beginning of the ranges</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getKey() == val) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(ceiling.getKey() == val+</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START);</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getValue() == RANGE_START)</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(ceiling.getKey());</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java comments">// ceiling.getValue() == RANGE_START_AND_END</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(ceiling.getKey(), RANGE_END);</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START_AND_END);</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(floor.getKey() == val || ceiling.getKey() == val) { </code><code class="java comments">// case 4: the value is already existed as the boundary of a range</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(floor.getKey() == val-</code><code class="java value">1</code><code class="java plain">) { </code><code class="java comments">// case 5: the value extends a lower range</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getValue() == RANGE_START){</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getValue() == RANGE_END) {</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(floor.getKey());</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// floor.getValue() == RANGE_START_AND_END</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val-</code><code class="java value">1</code><code class="java plain">, RANGE_START);</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2">&nbsp;</div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getKey() == val+</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getValue() == RANGE_START) {</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(ceiling.getKey());</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// ceiling.getValue() == RANGE_START_AND_END</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val+</code><code class="java value">1</code><code class="java plain">, RANGE_END);</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_END);</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(ceiling.getKey() == val+</code><code class="java value">1</code><code class="java plain">) { </code><code class="java comments">// case 6: the value extends a higher range</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getValue() == RANGE_END) {</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(ceiling.getValue() == RANGE_START) {</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(ceiling.getKey());</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// ceiling.getValue == RANGE_START_AND_END</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val+</code><code class="java value">1</code><code class="java plain">, RANGE_END);</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number73 index72 alt2">&nbsp;</div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getKey() == val-</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(floor.getValue() == RANGE_END) {</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.remove(floor.getKey());</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// floor.getValue == RANGE_START_AND_END</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val-</code><code class="java value">1</code><code class="java plain">, RANGE_START);</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START);</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// case 7: single point</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tm.put(val, RANGE_START_AND_END);</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number89 index88 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Interval&gt; getIntervals() {</code></div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Interval&gt; list = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Interval inter = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(Map.Entry&lt;Integer, Integer&gt; entry : tm.entrySet()) {</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(entry.getValue() == RANGE_START_AND_END) {</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(</code><code class="java keyword">new</code> <code class="java plain">Interval(entry.getKey(), entry.getKey()));</code></div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(entry.getValue() == RANGE_START) {</code></div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inter = </code><code class="java keyword">new</code> <code class="java plain">Interval();</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inter.start = entry.getKey();</code></div><div class="line number98 index97 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inter.end = entry.getKey();</code></div><div class="line number100 index99 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(inter);</code></div><div class="line number101 index100 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number102 index101 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number103 index102 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number104 index103 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">list;</code></div><div class="line number105 index104 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number106 index105 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>上面啰嗦的方法没再研究下去，而下面则祭出“Top Solutions”的第一个，思路就明显简洁清晰很多。也是用TreeMap，key是数值，表示的是这个数据段的开头，但是value直接放Interval对象了，这样在TreeMap中一下就可以少最多一半的数据量，因为key只需要存放开头数，不需要存放结尾数。同时，更重要的是，case也简洁很多，只需要讨论这样四种case：</p>
<ol>
<li>左段和右段当前是分开的，但是加上这个新数以后，就接上了；
</li>
<li>右段无影响，但是左段的结尾可能会被新数延长；
</li>
<li>左段无影响，但是右段的开头可能会被新数延长；
</li>
<li>左右都挨不着，新数成为孤岛数段。</li>
</ol>
<div><div id="highlighter_970957" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">SummaryRanges {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">TreeMap&lt;Integer, Interval&gt; tree;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">SummaryRanges() {</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree = </code><code class="java keyword">new</code> <code class="java plain">TreeMap&lt;&gt;();</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">addNum(</code><code class="java keyword">int</code> <code class="java plain">val) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(tree.containsKey(val)) </code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer l = tree.lowerKey(val);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer h = tree.higherKey(val);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(l != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; h != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; tree.get(l).end + </code><code class="java value">1</code> <code class="java plain">== val &amp;&amp; h == val + </code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.get(l).end = tree.get(h).end;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.remove(h);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code><code class="java plain">(l != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; tree.get(l).end + </code><code class="java value">1</code> <code class="java plain">&gt;= val) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.get(l).end = Math.max(tree.get(l).end, val);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code><code class="java plain">(h != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; h == val + </code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.put(val, </code><code class="java keyword">new</code> <code class="java plain">Interval(val, tree.get(h).end));</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.remove(h);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tree.put(val, </code><code class="java keyword">new</code> <code class="java plain">Interval(val, val));</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Interval&gt; getIntervals() {</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(tree.values());</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="intersection-of-two-arrays-ii">Intersection of Two Arrays II</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given two arrays, write a function to compute their intersection.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums1</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 2, 2, 1]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums2</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[2, 2]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[2, 2]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Note:</font></b><br style="box-sizing: border-box"></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Each element in the result should appear as many times as it shows in both arrays.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">The result can be in any order.</font></li>
</ul>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Follow up:</font></b><br style="box-sizing: border-box"></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">What if the given array is already sorted? How would you optimize your algorithm?</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">What if<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums1</i>‘s size is small compared to<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums2</i>‘s size? Which algorithm is better?</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">What if elements of<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums2</i><span class="Apple-converted-space">&nbsp;</span>are stored on disk, and the memory is limited such that you cannot load all elements into the memory at once?</font></li>
</ul>
<p>【解答】和Intersection of Two Arrays就一点区别，就是不需要去重。那就用HashMap来替代HashSet就好了，key是数字，value是该数字出现的次数。</p>
<div><div id="highlighter_275008" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] intersect(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code><code class="java plain">[] nums2) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;Integer, Integer&gt; map = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">num : nums1) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!map.containsKey(num))</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(num, </code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(num, map.get(num)+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; list = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">num : nums2) {</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer val = map.get(num);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(val!=</code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; val!=</code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(num);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(num, val-</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] ret = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[list.size()];</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;list.size(); i++) {</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ret[i] = list.get(i);</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">ret;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="intersection-of-two-arrays">Intersection of Two Arrays</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given two arrays, write a function to compute their intersection.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums1</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 2, 2, 1]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums2</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[2, 2]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[2]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Note:</font></b><br style="box-sizing: border-box"></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Each element in the result must be unique.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">The result can be in any order.</font></li>
</ul>
<p>【解答】求交集。用HashSet就好了，既可以找交集，又可以去重。</p>
<div><div id="highlighter_150590" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] intersection(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code><code class="java plain">[] nums2) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums1==</code><code class="java keyword">null</code> <code class="java plain">|| nums2==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">IllegalArgumentException();</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;Integer&gt; set2 = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">n : nums2) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set2.add(n);</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;Integer&gt; set3 = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">n : nums1) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(set2.contains(n))</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set3.add(n);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] intersection = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[set3.size()];</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">n : set3) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">intersection[i] = n;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">i++;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">intersection;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="top-k-frequent-elements">Top K Frequent Elements</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a non-empty array of integers, return the<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box"><i style="box-sizing: border-box">k</i></b><span class="Apple-converted-space">&nbsp;</span>most frequent elements.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">For example,<br style="box-sizing: border-box">Given</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1,1,1,2,2,3]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">and k = 2, return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1,2]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Note:</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></b><br style="box-sizing: border-box"></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">You may assume<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">k</i><span class="Apple-converted-space">&nbsp;</span>is always valid, 1 ≤<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">k</i><span class="Apple-converted-space">&nbsp;</span>≤ number of unique elements.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Your algorithm’s time complexity<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">must be</b><span class="Apple-converted-space">&nbsp;</span>better than O(<i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>log<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i>), where<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>is the array’s size.</font></li>
</ul>
<p>【解答】从一堆数中寻找k个出现次数最多的，首先出现在大脑里的思路是，先用一个map记录下每个元素的出现次数，然后再排序一下，这样复杂度就是n*logn。下面我用的是TreeMap（红黑树）的做法，TreeMap本身提供的是具有排序key的map这样的功能，它的put/get的时间复杂度都是log n，因而对于n个元素这样的情况来看，理论上的时间复杂度量级依然是n*logn。因此兴许它的时间开销会比map记录下所有元素出现次数以后，再排序一下这种方法好一些，也通过了所有的测试用例，但依然是同一级别的。也就是说，并不能算是满足题目note里面的要求使用比O(n log n)更好的复杂度，欢迎提供更佳的解法。</p>
<div><div id="highlighter_372762" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Integer&gt; topKFrequent(</code><code class="java keyword">int</code><code class="java plain">[] nums, </code><code class="java keyword">int</code> <code class="java plain">k) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums==</code><code class="java keyword">null</code> <code class="java plain">|| nums.length==</code><code class="java value">0</code> <code class="java plain">|| k&lt;=</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;Integer, Integer&gt; map = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">num : nums) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(map.get(num) == </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(num, </code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(num, map.get(num)+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">TreeMap&lt;Integer, Set&lt;Integer&gt;&gt; reverseMap = </code><code class="java keyword">new</code> <code class="java plain">TreeMap&lt;&gt;();</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(reverseMap.get(entry.getValue()) == </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">reverseMap.put(entry.getValue(), </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;());</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;Integer&gt; set = reverseMap.get(entry.getValue());</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set.add(entry.getKey());</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">reverseMap.put(entry.getValue(), set);</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; ret = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(k);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(k&gt;</code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer key = reverseMap.lastKey();</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(key==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">break</code><code class="java plain">;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;Integer&gt; set = reverseMap.get(key);</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">reverseMap.remove(key);</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(set.size()&lt;=k) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ret.addAll(set);</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">k -= set.size();</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">s : set) {</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ret.add(s);</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">k--;</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(k==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">break</code><code class="java plain">;</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">ret;</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number50 index49 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="reverse-vowels-of-a-string">Reverse Vowels of a String</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Write a function that takes a string as input and reverse only the vowels of a string.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given s = “hello”, return “holle”.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given s = “leetcode”, return “leotcede”.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Note:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">The vowels does not include the letter “y”.</font></p>
<p>【解答】要把元音反转。思路就是准备两个指针，一个从前往后，一个从后往前，找到元音就互换位置。</p>
<div><div id="highlighter_628589" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String reverseVowels(String s) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">null</code><code class="java plain">==s)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">s;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">, j=s.length()-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">char</code><code class="java plain">[] arr = s.toCharArray();</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(i&lt;j) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!isVowel(arr[i])) {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">i++;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!isVowel(arr[j])) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">j--;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">swap(arr, i, j);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">i++;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">j--;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">String(arr);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">isVowel(</code><code class="java keyword">char</code> <code class="java plain">c) {</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">c==</code><code class="java string">'a'</code> <code class="java plain">|| c==</code><code class="java string">'e'</code> <code class="java plain">|| c==</code><code class="java string">'i'</code> <code class="java plain">|| c==</code><code class="java string">'o'</code> <code class="java plain">|| c==</code><code class="java string">'u'</code> <code class="java plain">|| c==</code><code class="java string">'A'</code> <code class="java plain">|| c==</code><code class="java string">'E'</code> <code class="java plain">|| c==</code><code class="java string">'I'</code> <code class="java plain">|| c==</code><code class="java string">'O'</code> <code class="java plain">|| c==</code><code class="java string">'U'</code><code class="java plain">;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">void</code> <code class="java plain">swap(</code><code class="java keyword">char</code><code class="java plain">[] arr, </code><code class="java keyword">int</code> <code class="java plain">i, </code><code class="java keyword">int</code> <code class="java plain">j) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[i] ^= arr[j];</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[j] ^= arr[i];</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[i] ^= arr[j];</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number36 index35 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="reverse-string">Reverse String</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Write a function that takes a string as input and returns the string reversed.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given s = “hello”, return “olleh”.</font></p>
<p>【解答】这个题没有太多可说的。</p>
<div><div id="highlighter_871293" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String reverseString(String s) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">null</code><code class="java plain">==s)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">len = s.length();</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">char</code><code class="java plain">[] arr = </code><code class="java keyword">new</code> <code class="java keyword">char</code><code class="java plain">[len];</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=len-</code><code class="java value">1</code><code class="java plain">; i&gt;=</code><code class="java value">0</code><code class="java plain">; i--) {</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[len-i-</code><code class="java value">1</code><code class="java plain">] = s.charAt(i);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">String(arr);</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="integer-break">Integer Break</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a positive integer<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i>, break it into the sum of<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">at least</b><span class="Apple-converted-space">&nbsp;</span>two positive integers and maximize the product of those integers. Return the maximum product you can get.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">For example, given<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>= 2, return 1 (2 = 1 + 1); given<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>= 10, return 36 (10 = 3 + 3 + 4).</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">Note</font></b></font><font style="font-size: 10.5pt">: You may assume that<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>is not less than 2 and not larger than 58.</font></p>
<p>【解答】把一个数拆分成若干个数的和，最后要求使得这几个数的乘积最大。</p>
<p>现在假设这个数n，需要拆成k个数，那么一点是肯定的，一旦k被确定下来，这几个数越平均越好。因为拆出来的这几个数，越是接近，乘积就越大。</p>
<p>因此考虑所有k的可能，拆数的时候，n/k未必能够整除，但是能够得到一个“基数”，即这种最平均的拆分法，拆出来的数要么是n/k向下取整，要么是n/k向下取整+1，也就是说任意两个数之间的差别不会超过1。</p>
<div><div id="highlighter_736347" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">integerBreak(</code><code class="java keyword">int</code> <code class="java plain">n) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">max = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">k=</code><code class="java value">2</code><code class="java plain">; k&lt;=n; k++) {</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">res = cal(n, k);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(res&gt;max)</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = res;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">cal(</code><code class="java keyword">int</code> <code class="java plain">n, </code><code class="java keyword">int</code> <code class="java plain">k) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">c = n/k;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">adding = (n - c*k);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">result = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(c==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">1</code><code class="java plain">; i&lt;=k; i++) {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(adding&gt;</code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">adding--;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result *= c+</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result *= c;</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number35 index34 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="power-of-four">Power of Four</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given an integer (signed 32 bits), write a function to check whether it is a power of 4.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given num = 16, return true. Given num = 5, return false.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"><b style="box-sizing: border-box"><font style="font-size: 10.5pt">Follow up</font></b></font><font style="font-size: 10.5pt">: Could you solve it without loops/recursion?</font></p>
<p>【解答】要看一个数是不是4的幂。做法有很多，利用一些数的性质可以简化计算：</p>
<p>（1）如果一个数num是2的幂，那它应该是这样的数：</p>
<p>1 -&gt; 1</p>
<p>2&nbsp; -&gt; 10</p>
<p>4 -&gt; 100</p>
<p>8 -&gt; 1000</p>
<p>……</p>
<p>因此 num &amp; (num-1) 应该得到0。</p>
<p>（2）考虑这样的因数分解：</p>
<p>4^n – 1 = (4-1) (4^(n-1) + 4^(n-2) + 4^(n-3) + … + 4 + 1)</p>
<p>因此取3的模应该为0。</p>
<p>我觉得这二个条件的必要性应该是正确的，但是惭愧的是充分性我并没有证明出来。即，上面的（1）和（2）可以说是“一个数是4的幂”的必要条件，但是如何证明它们也是充分条件呢？</p>
<p>其实，通过（1）的筛选可以找到符合“2的幂”这个条件，而想想2的幂如果它同时也是4的幂，那肯定能被3整除，这一点已经被（2）说明，现在问题转化为，如何说明2的幂但不为4的幂的时候，是无法被3整除的呢？</p>
<p>如果你知道怎样证明，或者有别的思路，我们可以讨论。</p>
<div><div id="highlighter_558195" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isPowerOfFour(</code><code class="java keyword">int</code> <code class="java plain">num) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(num&lt;=</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// powers of 2</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// 10000000...</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((num &amp; (num-</code><code class="java value">1</code><code class="java plain">)) != </code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//&nbsp; 4^n - 1 = (4-1) (4^(n-1) + 4^(n-2) + 4^(n-3) + ... + 4 + 1)</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">((num-</code><code class="java value">1</code><code class="java plain">) % </code><code class="java value">3</code> <code class="java plain">!= </code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="flatten-nested-list-iterator">Flatten Nested List Iterator</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a nested list of integers, implement an iterator to flatten it.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Each element is either an integer, or a list — whose elements may also be integers or other lists.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given the list</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[[1,1],2,[1,1]]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">,</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">By calling<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">next</i><span class="Apple-converted-space">&nbsp;</span>repeatedly until<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">hasNext</i><span class="Apple-converted-space">&nbsp;</span>returns false, the order of elements returned by<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">next</i><span class="Apple-converted-space">&nbsp;</span>should be:</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1,1,2,1,1]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given the list</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1,[4,[6]]]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">,</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">By calling<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">next</i><span class="Apple-converted-space">&nbsp;</span>repeatedly until<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">hasNext</i><span class="Apple-converted-space">&nbsp;</span>returns false, the order of elements returned by<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">next</i><span class="Apple-converted-space">&nbsp;</span>should be:</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1,4,6]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p>【解答】使用一个栈stack来存放外层的链表节点。每次调用next的时候，都从stack里面pop一个元素出来，然后让它的index往后走。不过如果走不了了，即已经全部遍历过了，那就只能出栈了。</p>
<p>有一个注意的地方是对于hasNext方法的设计。我的做法是在hasNext方法的时候把下一个元素应该返回什么的工作做好，并且使用一个标识量checked表示是否已经通过hasNext检查过了，这样在调用next方法的时候就不用做</p>
<div><div id="highlighter_547512" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">Item {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;NestedInteger&gt; list;</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">index;</code></div><div class="line number4 index3 alt1"><code class="java plain">}</code></div><div class="line number5 index4 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">NestedIterator </code><code class="java keyword">implements</code> <code class="java plain">Iterator&lt;Integer&gt; {</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">checked;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Integer nextVal;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Stack&lt;Item&gt; stack = </code><code class="java keyword">new</code> <code class="java plain">Stack&lt;&gt;();</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">NestedIterator(List&lt;NestedInteger&gt; nestedList) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">checked = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">nextVal = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item item = </code><code class="java keyword">new</code> <code class="java plain">Item();</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.list = nestedList;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.index = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stack.push(item);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">void</code> <code class="java plain">check() {</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(stack.isEmpty()) {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">checked = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">nextVal = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item item = stack.peek();</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(item.list.size()&lt;=item.index) {</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stack.pop();</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.check();</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">NestedInteger nestedInteger = item.list.get(item.index);</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.index++;</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nestedInteger.isInteger()) {</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">nextVal = nestedInteger.getInteger();</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">checked = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item subItem = </code><code class="java keyword">new</code> <code class="java plain">Item();</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subItem.list = nestedInteger.getList();</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">subItem.index = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stack.push(subItem);</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.check();</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Integer next() {</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!checked)</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.check();</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">nextVal;</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number58 index57 alt1">&nbsp;</div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">hasNext() {</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.check();</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">nextVal != </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number65 index64 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="counting-bits">Counting Bits</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a non negative integer number<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">num</b>. For every numbers<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">i</b><span class="Apple-converted-space">&nbsp;</span>in the range<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">0 ≤ i ≤ num</b><span class="Apple-converted-space">&nbsp;</span>calculate the number of 1′s in their binary representation and return them as an array.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">For</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">num = 5</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">you should return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[0,1,1,2,1,2]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Follow up:</font></b></p>
<ul style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">It is very easy to come up with a solution with run time<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">O(n*sizeof(integer))</b>. But can you do it in linear time<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">O(n)</b><span class="Apple-converted-space">&nbsp;</span>/possibly in a single pass?</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Space complexity should be<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">O(n)</b>.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Can you do it like a boss? Do it without using any builtin function like<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">__builtin_popcount</b><span class="Apple-converted-space">&nbsp;</span>in c++ or in any other language</font></li>
</ul>
<p>【解答】要数1的个数，再看题目里对复杂度的要求，对1到n的每一个数拿出来，必须要在常数时间复杂度内就得出结果。因此考虑1到n中每一个数和它之前的数之间的关系，利用之前的数已经算得的结果（存在数组array中），再加上变化的增量，以减少计算量。</p>
<p>array[0] = 0，1的数量：0</p>
<p>array[1] = 1 -&gt; 2^0 -&gt; 1，1的数量：1</p>
<p>array[2] = 2 -&gt; 2^1 -&gt; 10，1的数量：array[0] + 1</p>
<p>array[3] = 3 -&gt; 2^1 + 1 -&gt; 11，1的数量：array[1] + 1</p>
<p>array[4] = 4 -&gt; 2^2 -&gt; 100，1的数量：array[0] + 1</p>
<p>array[5] = 5 -&gt; 2^2 + 1 -&gt; 101，1的数量：array[1] + 1</p>
<p>array[6] = 6 -&gt; 2^2 + 2 -&gt; 110，1的数量：array[2] + 1</p>
<p>array[7] = 7 -&gt; 2^2 + 3 -&gt; 111，1的数量：array[3] + 1</p>
<p>array[8] = 8 -&gt; 2^3 -&gt; 1000，1的数量：array[0] + 1</p>
<p>在纸上写出如上，寻找思路：</p>
<ol>
<li>任意一个数出现的时候，比如1101010101，只有最高位的1是个新东西，去掉最高位之后，101010101在之前已经出现过了，因此使用一个数组array来存储已经计算过的结果；
</li>
<li>使用pos下标来表示当前这个数去掉最高位以后，剩下的数在array出现的位置，那么加上1就可以得到当前这个数的1的数量；
</li>
<li>用cycleLength来记录一个表示2的cycleCount次方的结果，在cycleCount没有变化的时候，1的数量是去掉最高位以后的值+1，但是如果cycleCount变化（即cycleLength≤pos），需要把pos清零，把cycleCount自增1，并更新cycleLength。</li>
</ol>
<div><div id="highlighter_321200" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] countBits(</code><code class="java keyword">int</code> <code class="java plain">num) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(num==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[]{</code><code class="java value">0</code><code class="java plain">};</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(num==</code><code class="java value">1</code><code class="java plain">)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[]{</code><code class="java value">0</code><code class="java plain">, </code><code class="java value">1</code><code class="java plain">};</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">cycleCount = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">pos = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] array = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[num+</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">array[</code><code class="java value">0</code><code class="java plain">] = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">array[</code><code class="java value">1</code><code class="java plain">] = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">cycleLength = (</code><code class="java keyword">int</code><code class="java plain">)Math.pow(</code><code class="java value">2</code><code class="java plain">, cycleCount);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">2</code><code class="java plain">; i&lt;array.length; i++) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">array[i] = array[pos] + </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">pos++;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(pos&gt;=cycleLength) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">pos = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cycleCount++;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cycleLength = (</code><code class="java keyword">int</code><code class="java plain">)Math.pow(</code><code class="java value">2</code><code class="java plain">, cycleCount);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">array;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="house-robber-iii">House Robber III</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">The thief has found himself a new place for his thievery again. There is only one entrance to this area, called the “root.” Besides the root, each house has one and only one parent house. After a tour, the smart thief realized that “all houses in this place forms a binary tree”. It will automatically contact the police if two directly-linked houses were broken into on the same night.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Determine the maximum amount of money the thief can rob tonight without alerting the police.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font color="#333333"></font><font style="font-size: 9.8pt">     </font><font style="font-size: 9.8pt"></font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">3</font>
<font face="Consolas"></font><font style="font-size: 9.8pt"></font><font color="#333333">    / \
   2   3
    \   \ 
     </font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">3   1</font>
</pre>
<p><font face="Helvetica"><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"></font><font style="font-size: 10.5pt">Maximum amount of money the thief can rob =<span class="Apple-converted-space">&nbsp;</span></font></span></font><font style="font-size: 10.5pt"></font><font style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" color="red">3</font><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"><span class="Apple-converted-space">&nbsp;</span>+<span class="Apple-converted-space">&nbsp;</span></font></span><font style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" color="red">3</font><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"><span class="Apple-converted-space">&nbsp;</span>+<span class="Apple-converted-space">&nbsp;</span></font></span><font style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" color="red">1</font><font color="#333333"><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><span class="Apple-converted-space">&nbsp;</span>=<span class="Apple-converted-space">&nbsp;</span></span><b style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">7</b></font><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font style="font-size: 10.5pt" color="#333333">.</font></span> </p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font color="#333333"></font><font style="font-size: 9.8pt">     3
    / \
   </font><font style="font-size: 9.8pt"></font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">4</font><font color="#333333">   </font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">5</font>
<font color="#333333">  / \   \ 
 1   3   1
</font></pre>
<p><font face="Helvetica"><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"></font><font style="font-size: 10.5pt">Maximum amount of money the thief can rob =<span class="Apple-converted-space">&nbsp;</span></font></span></font><font style="font-size: 10.5pt"></font><font style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" color="red">4</font><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333"><span class="Apple-converted-space">&nbsp;</span>+<span class="Apple-converted-space">&nbsp;</span></font></span><font style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" color="red">5</font><font color="#333333"><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><span class="Apple-converted-space">&nbsp;</span>=<span class="Apple-converted-space">&nbsp;</span></span><b style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">9</b></font><span style="font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; float: none; color: ; orphans: 2; widows: 2; display: inline !important; letter-spacing: normal; text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font style="font-size: 10.5pt" color="#333333">.</font></span> </p>
<p>【解答】这道题思路相对还是比较简单的。建立两个map，一个用来存放指定节点被抢劫的最优解，一个用来存放指定节点不被抢劫的最优解。</p>
<p>然后就可以从root开始递归遍历，注意递归方法需要传入一个boolean变量表示在某种情况下，这次的递归调用所对应的节点是否可以被抢劫：</p>
<ul>
<li>如果可以被抢劫就需要在两个map中分别存放被抢劫和不被抢劫的最优解；
</li>
<li>如果不可以被抢劫，就只需要在后一个map中存放不被抢劫的最优解。</li>
</ul>
<div><div id="highlighter_653951" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">rob(TreeNode root) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">rob(root, </code><code class="java keyword">true</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;(), </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;());</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">rob(TreeNode root, </code><code class="java keyword">boolean</code> <code class="java plain">robbable, Map&lt;TreeNode, Integer&gt; robbedCache, Map&lt;TreeNode, Integer&gt; unrobbedCache) {</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(root==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">robbed = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(robbable) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(robbedCache.get(root) != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">robbed = robbedCache.get(root);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">robbed += root.val;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">robbed += rob(root.left, </code><code class="java keyword">false</code><code class="java plain">, robbedCache, unrobbedCache);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">robbed += rob(root.right, </code><code class="java keyword">false</code><code class="java plain">, robbedCache, unrobbedCache);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">robbedCache.put(root, robbed);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">unrobbed = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(unrobbedCache.get(root) != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">unrobbed = unrobbedCache.get(root);</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">unrobbed += rob(root.left, </code><code class="java keyword">true</code><code class="java plain">, robbedCache, unrobbedCache);</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">unrobbed += rob(root.right, </code><code class="java keyword">true</code><code class="java plain">, robbedCache, unrobbedCache);</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">unrobbedCache.put(root, unrobbed);</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">Math.max(robbed, unrobbed);</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number35 index34 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="palindrome-pairs">Palindrome Pairs</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a list of<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box">unique</b><span class="Apple-converted-space">&nbsp;</span>words, find all pairs of<span class="Apple-converted-space">&nbsp;</span><b style="box-sizing: border-box"><i style="box-sizing: border-box">distinct</i></b><span class="Apple-converted-space">&nbsp;</span>indices</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">(i, j)</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">in the given list, so that the concatenation of the two words, i.e.</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">words[i] + words[j]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">is a palindrome.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">words</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["bat", "tab", "cat"]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[[0, 1], [1, 0]]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">The palindromes are</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["battab", "tabbat"]</font></code><br style="box-sizing: border-box"></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">words</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["abcd", "dcba", "lls", "s", "sssll"]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[[0, 1], [1, 0], [3, 2], [2, 4]]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">The palindromes are</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["dcbaabcd", "abcddcba", "slls", "llssssll"]</font></code></p>
<p>【解答】从一堆单词里面找出两个，连接在一起组成回文，要列出所有这样的可能性。</p>
<p>最暴力的解法就是两两组合，考虑所有的可能性，但是复杂度在n平方。</p>
<p>因此思考改进的方式。两个单词连接，如果较短的那一个已经确定，再去取较长的那一个的时候，满足如下条件：</p>
<ul>
<li>较短字符串必须以逆序出现在较长串的一端；
</li>
<li>同时，长串减去短串后剩下的部分，必须自成回文。</li>
</ul>
<p>对于长串和短串的关系，具体说，有两种情况：</p>
<ol>
<li>短串出现在长串的左端，比如“abc”和“ba”，ba的逆序就出现在abc的左端，而长串减去短串为c，自成回文串，这种情况下可行的连接是把较短串放到右边，组成abcba；
</li>
<li>短串出现在长串的右端，比如“cdcab”和“ba”，ba的逆序就出现在cdcab的右端，而长串减去短串为cbc，自成回文串，这种情况下可行的连接是把较短串放到左边，组成bacdcab。</li>
</ol>
<p>明确这个关系以后，改进的方式就在心中浮现了：如果拿到任意一个串，视之为短串，能够不需要遍历剩余所有的串，而比较快速地得到以他的反串为前缀或者后缀的对应长串，再来判断长串减去短串后余下部分是否是回文即可。</p>
<p>对下面的代码做一个简要说明，首先构造如下的数据结构：</p>
<ul>
<li>根据字符串中字符的前后关系，分别建立两棵树，一棵是正序遍历，一棵是逆序遍历，而下面的Node即为树的节点。
</li>
<li>stringToIndex这个map是从字符串到位置下标的映射，toReversed是字符串正序向逆序的映射，toOriginal则反之，这两个是用空间换时间，用来减少反复操作逆序的运算量的。
</li>
<li>stringToNodeForward和stringToNodeBackward分别是字符串像正序遍历树和逆序遍历树中终点节点映射的map。</li>
</ul>
<p>构造以上结构完成之后，以这样的输入来举例：[ae, ab, bac, ca]。</p>
<ul>
<li>左图是顺序树，右图是逆序树。
</li>
<li>如果要找短串出现在长串右端的情况，需要把源串逆序，然后到顺序树中去找，比如ab，逆序为ba，到左图去找，找到中间的ba，继续往下还有c，而c自成回文，因此bac+ab满足题意；
</li>
<li>如果要找短串出现在长串左端的情况，需要保持源串顺序，但是去逆序树中找，比如ca，到右图去找，第三列找到ca，继续往下还有b，而b自成回文，因此ca+bac满足题意。</li>
</ul>
<p><a href="http://www.raychase.net/wp-content/uploads/2017/01/image.png"><img class="sl_lazyimg" title="LeetCode题目解答——第311到371题" style="border-width: 0px; background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; height: 277px;" border="0" alt="LeetCode题目解答——第311到371题" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2017/01/image_thumb.png" width="703" height="348"><noscript>&lt;img title="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" src="http://www.raychase.net/wp-content/uploads/2017/01/image_thumb.png" width="703" height="348" /&gt;</noscript></a></p>
<div><div id="highlighter_839169" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">Node {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Character ch;</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;Character, Node&gt; nextMap = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String word;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Node(Character ch) {</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.ch = ch;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String toString() {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java string">"\""</code> <code class="java plain">+ word + </code><code class="java string">"\"-"</code> <code class="java plain">+ nextMap;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java plain">}</code></div><div class="line number15 index14 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;List&lt;Integer&gt;&gt; palindromePairs(String[] words) {</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, Integer&gt; stringToIndex = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, String&gt; toReversed = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, String&gt; toOriginal = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// key: reversed word, value: end node in the word letters iteration tree</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, Node&gt; stringToNodeForward = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// key: word, value: end node in the word letters backward iteration tree</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, Node&gt; stringToNodeBackward = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node forwardRoot = </code><code class="java keyword">new</code> <code class="java plain">Node(</code><code class="java keyword">null</code><code class="java plain">);</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node backwardRoot = </code><code class="java keyword">new</code> <code class="java plain">Node(</code><code class="java keyword">null</code><code class="java plain">);</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;words.length; i++) {</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String word = words[i];</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stringToIndex.put(word, i);</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// forward</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node cursor = forwardRoot;</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=</code><code class="java value">0</code><code class="java plain">; j&lt;word.length(); j++) {</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Character ch = word.charAt(j);</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!cursor.nextMap.containsKey(ch))</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor.nextMap.put(ch, </code><code class="java keyword">new</code> <code class="java plain">Node(ch));</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor = cursor.nextMap.get(ch);</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String reverse = </code><code class="java keyword">new</code> <code class="java plain">StringBuilder(word).reverse().toString();</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">toReversed.put(word, reverse);</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">toOriginal.put(reverse, word);</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor.word = word;</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stringToNodeForward.put(reverse, cursor);</code></div><div class="line number49 index48 alt2">&nbsp;</div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// backward</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor = backwardRoot;</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=word.length()-</code><code class="java value">1</code><code class="java plain">; j&gt;=</code><code class="java value">0</code><code class="java plain">; j--) {</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Character ch = word.charAt(j);</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!cursor.nextMap.containsKey(ch))</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor.nextMap.put(ch, </code><code class="java keyword">new</code> <code class="java plain">Node(ch));</code></div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor = cursor.nextMap.get(ch);</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cursor.word = word;</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">stringToNodeBackward.put(word, cursor);</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number62 index61 alt1">&nbsp;</div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;List&lt;Integer&gt;&gt; list = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String word : words) {</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 1</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String reverse = toReversed.get(word);</code></div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node node = getNode(reverse, forwardRoot);</code></div><div class="line number68 index67 alt1">&nbsp;</div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(node != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;String&gt; set = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">recursiveSearch(node, set, word.length(), </code><code class="java keyword">true</code><code class="java plain">);</code></div><div class="line number72 index71 alt1">&nbsp;</div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String p : set) {</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; item = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(</code><code class="java value">2</code><code class="java plain">);</code></div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.add(stringToIndex.get(p));</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.add(stringToIndex.get(word));</code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(item.get(</code><code class="java value">0</code><code class="java plain">) != item.get(</code><code class="java value">1</code><code class="java plain">)) </code><code class="java comments">// filter out the map to itself</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(item);</code></div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 2</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">node = getNode(word, backwardRoot);</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(node != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Set&lt;String&gt; set = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">recursiveSearch(node, set, word.length(), </code><code class="java keyword">false</code><code class="java plain">);</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String p : set) {</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; item = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(</code><code class="java value">2</code><code class="java plain">);</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.add(stringToIndex.get(word));</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.add(stringToIndex.get(p));</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(item.get(</code><code class="java value">0</code><code class="java plain">) != item.get(</code><code class="java value">1</code><code class="java plain">)) </code><code class="java comments">// filter out the map to itself</code></div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(item);</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number98 index97 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number100 index99 alt1">&nbsp;</div><div class="line number101 index100 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">list;</code></div><div class="line number102 index101 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number103 index102 alt2">&nbsp;</div><div class="line number104 index103 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Node getNode(String s, Node root) {</code></div><div class="line number105 index104 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node n = root;</code></div><div class="line number106 index105 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;s.length(); i++) {</code></div><div class="line number107 index106 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Character ch = s.charAt(i);</code></div><div class="line number108 index107 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Node next = n.nextMap.get(ch);</code></div><div class="line number109 index108 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(next != </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number110 index109 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">n = next;</code></div><div class="line number111 index110 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number112 index111 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number113 index112 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number114 index113 alt1">&nbsp;</div><div class="line number115 index114 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">n;</code></div><div class="line number116 index115 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number117 index116 alt2">&nbsp;</div><div class="line number118 index117 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">void</code> <code class="java plain">recursiveSearch(Node node, Set&lt;String&gt; set, </code><code class="java keyword">int</code> <code class="java plain">baseLength, </code><code class="java keyword">boolean</code> <code class="java plain">forward) {</code></div><div class="line number119 index118 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(node == </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number120 index119 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code><code class="java plain">;</code></div><div class="line number121 index120 alt2">&nbsp;</div><div class="line number122 index121 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(node.word != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number123 index122 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String rest = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number124 index123 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(forward)</code></div><div class="line number125 index124 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">rest = node.word.substring(baseLength);</code></div><div class="line number126 index125 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(node.word.length() != baseLength) </code><code class="java comments">// dedup</code></div><div class="line number127 index126 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">rest = node.word.substring(</code><code class="java value">0</code><code class="java plain">, node.word.length() - baseLength);</code></div><div class="line number128 index127 alt1">&nbsp;</div><div class="line number129 index128 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// if the rest is palindrome</code></div><div class="line number130 index129 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(rest != </code><code class="java keyword">null</code> <code class="java plain">&amp;&amp; </code><code class="java keyword">new</code> <code class="java plain">StringBuilder(rest).reverse().toString().equals(rest))</code></div><div class="line number131 index130 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">set.add(node.word);</code></div><div class="line number132 index131 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number133 index132 alt2">&nbsp;</div><div class="line number134 index133 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(Node next : node.nextMap.values())</code></div><div class="line number135 index134 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">recursiveSearch(next, set, baseLength, forward);</code></div><div class="line number136 index135 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number137 index136 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="self-crossing">Self Crossing</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">You are given an array<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">x</i><span class="Apple-converted-space">&nbsp;</span>of</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">n</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">positive numbers. You start at point</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">(0,0)</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">and moves</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">x[0]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">metres to the north, then</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">x[1]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">metres to the west,</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">x[2]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">metres to the south,</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">x[3]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">metres to the east and so on. In other words, after each move your direction changes counter-clockwise.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Write a one-pass algorithm with</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">O(1)</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">extra space to determine, if your path crosses itself, or not.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333" face="Consolas"></font><font style="font-size: 9.8pt">Given <i style="box-sizing: border-box"><font style="background-color: #f5f5f5">x</font></i> = </font><font style="font-size: 9.8pt"><code class="hljs json" style="box-sizing: border-box; font-family: ; background-image: none; white-space: pre; background-repeat: repeat; background-attachment: scroll; overflow-x: auto; background-position: 0% 0%; color: ; padding-bottom: 6px; padding-top: 6px; padding-left: 6px; display: block; padding-right: 6px; border-radius: 0px"><font style="background-color: #f0f0f0"></font><font face="Consolas"></font><font color="#444444">[</font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">2</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">2</font></span><font color="#444444">]</font></code></font><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">,
┌───┐
│   │
└───┼──&gt;
    │

Return <b style="box-sizing: border-box"><font style="background-color: #f5f5f5">true</font></b> (self crossing)
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333" face="Consolas"></font><font style="font-size: 9.8pt">Given <i style="box-sizing: border-box"><font style="background-color: #f5f5f5">x</font></i> = </font><font style="font-size: 9.8pt"><code class="hljs json" style="box-sizing: border-box; font-family: ; background-image: none; white-space: pre; background-repeat: repeat; background-attachment: scroll; overflow-x: auto; background-position: 0% 0%; color: ; padding-bottom: 6px; padding-top: 6px; padding-left: 6px; display: block; padding-right: 6px; border-radius: 0px"><font style="background-color: #f0f0f0"></font><font face="Consolas"></font><font color="#444444">[</font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">2</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">3</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">4</font></span><font color="#444444">]</font></code></font><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">,
┌──────┐
│      │
│
│
└────────────&gt;

Return <b style="box-sizing: border-box"><font style="background-color: #f5f5f5">false</font></b> (not self crossing)
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 3:</font></b><br style="box-sizing: border-box"></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font color="#333333" face="Consolas"></font><font style="font-size: 9.8pt">Given <i style="box-sizing: border-box"><font style="background-color: #f5f5f5">x</font></i> = </font><font style="font-size: 9.8pt"><code class="hljs json" style="box-sizing: border-box; font-family: ; background-image: none; white-space: pre; background-repeat: repeat; background-attachment: scroll; overflow-x: auto; background-position: 0% 0%; color: ; padding-bottom: 6px; padding-top: 6px; padding-left: 6px; display: block; padding-right: 6px; border-radius: 0px"><font style="background-color: #f0f0f0"></font><font face="Consolas"></font><font color="#444444">[</font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">, </font><span class="hljs-number" style="box-sizing: border-box; color: "><font color="#880000">1</font></span><font color="#444444">]</font></code></font><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">,
┌───┐
│   │
└───┼&gt;

Return <b style="box-sizing: border-box"><font style="background-color: #f5f5f5">true</font></b> (self crossing)
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p>【解答】题目本身很清晰，这道题hard难度，我确实折腾了好一会儿。我发现LeetCode的题目是越来越难做了，是我思维退步了还是出题人心理越来越阴暗了？……</p>
<p>用的还是分类case来归纳讨论的思路。虽然结果通过了，但是我并非很有信心，因为这里的case实在是折腾得我有点思路混乱。无论如何，我把我的解法放在了下面。</p>
<p>首先，大类上可以归纳为这样三种，我觉得这点是不会有错的：</p>
<ol>
<li>膨胀型
</li>
<li>收缩型
</li>
<li>先膨胀再收缩型</li>
</ol>
<p><a href="http://www.raychase.net/wp-content/uploads/2017/01/image1.png"><img class="sl_lazyimg" title="LeetCode题目解答——第311到371题" style="border-width: 0px; background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; height: 136px;" border="0" alt="LeetCode题目解答——第311到371题" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2017/01/image_thumb1.png" width="605" height="147"><noscript>&lt;img title="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" src="http://www.raychase.net/wp-content/uploads/2017/01/image_thumb1.png" width="605" height="147" /&gt;</noscript></a></p>
<p>一旦收缩以后就无法再膨胀了，因此没有“先收缩再膨胀”这种类型。下面代码的shrink变量表示是收缩还是膨胀，而inflateToShrink变量用来表示从膨胀到收缩那个临界变化的位置，在那个位置有很多特殊的case。</p>
<div><div id="highlighter_851729" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isSelfCrossing(</code><code class="java keyword">int</code><code class="java plain">[] x) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x==</code><code class="java keyword">null</code> <code class="java plain">|| x.length&lt;</code><code class="java value">4</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">shrink;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x[</code><code class="java value">2</code><code class="java plain">] &lt;x[</code><code class="java value">0</code><code class="java plain">])</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[</code><code class="java value">2</code><code class="java plain">] &gt; x[</code><code class="java value">0</code><code class="java plain">])</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[</code><code class="java value">3</code><code class="java plain">] &lt; x[</code><code class="java value">1</code><code class="java plain">])</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[</code><code class="java value">3</code><code class="java plain">] &gt; x[</code><code class="java value">1</code><code class="java plain">])</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">; </code><code class="java comments">// rectangle</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">inflateToShrink = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">3</code><code class="java plain">; i&lt;x.length; i++) {</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(shrink) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x[i] &gt; x[i-</code><code class="java value">2</code><code class="java plain">]) </code><code class="java comments">// 1</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[i] == x[i-</code><code class="java value">2</code><code class="java plain">] &amp;&amp; x[i-</code><code class="java value">1</code><code class="java plain">] == x[i-</code><code class="java value">3</code><code class="java plain">]) </code><code class="java comments">// 2</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java comments">// 3</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x[i] == x[i-</code><code class="java value">2</code><code class="java plain">] &amp;&amp; x[i-</code><code class="java value">1</code><code class="java plain">] == x[i-</code><code class="java value">3</code><code class="java plain">]) { </code><code class="java comments">// 4</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(i == </code><code class="java value">3</code><code class="java plain">) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x[i] == x[i-</code><code class="java value">2</code><code class="java plain">]) </code><code class="java comments">// 5</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inflateToShrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[i] &lt; x[i-</code><code class="java value">2</code><code class="java plain">]) </code><code class="java comments">// 6</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java comments">// 7</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(x[i] &lt; x[i-</code><code class="java value">2</code><code class="java plain">]) {</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x[i] + x[i-</code><code class="java value">4</code><code class="java plain">] &lt; x[i-</code><code class="java value">2</code><code class="java plain">]) { </code><code class="java comments">// 8</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">shrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(inflateToShrink) </code><code class="java comments">// 9</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java comments">// 10</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">inflateToShrink = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{ </code><code class="java comments">// 11</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">;</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number55 index54 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>在<a href="https://discuss.leetcode.com/topic/38014/java-oms-with-explanation" target="_blank" onclick="urchinTracker(&#39;/outgoing/discuss.leetcode.com/topic/38014/java-oms-with-explanation?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">讨论区</a>有非常清晰简洁的解法，我就不贴在这里了，也是分类讨论的办法，但是清晰很多，而且不需要状态变量。兴许这一类题目有某种思路简单的套路可以采用呢？</p>
<p><strong><span style="color: #ff0000"><a id="increasing-triplet-subsequence">Increasing Triplet Subsequence</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given an unsorted array return whether an increasing subsequence of length 3 exists or not in the array.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Formally the function should:</p>
<blockquote style="border-left-width: 5px; box-sizing: border-box; font-size: 17px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; border-left-color: #eeeeee; color: #333333; padding-bottom: 10px; padding-top: 10px; padding-left: 20px; orphans: 2; widows: 2; margin: 0px 0px 20px; padding-right: 20px; font-variant-ligatures: normal">
<p>Return true if there exists <em style="box-sizing: border-box">i, j, k </em><br style="box-sizing: border-box">such that <em style="box-sizing: border-box">arr[i]</em> &lt; <em style="box-sizing: border-box">arr[j]</em> &lt; <em style="box-sizing: border-box">arr[k]</em> given 0 ≤ <em style="box-sizing: border-box">i</em> &lt; <em style="box-sizing: border-box">j</em> &lt; <em style="box-sizing: border-box">k</em> ≤ <em style="box-sizing: border-box">n</em>-1 else return false.</p>
</blockquote>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Your algorithm should run in O(<em style="box-sizing: border-box">n</em>) time complexity and O(<em style="box-sizing: border-box">1</em>) space complexity.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Examples:</span><br style="box-sizing: border-box">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[1, 2, 3, 4, 5]</code>,<br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">true</code>.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[5, 4, 3, 2, 1]</code>,<br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">false</code>.</p>
<p>【解答】要找出三个数，随着下标增加，数的大小也是递增的。这个问题其实通过仔细的分类讨论就可以解决。</p>
<p>参见下面的代码，核心逻辑是：</p>
<ul>
<li>如果发现连续两个数递增的情况，就看第三个数，是不是继续递增，如果是，那就返回了；如果不是，更新第二个数为它。
</li>
<li>如果是递减的，那就和第一个数比较，如果比第一个数大，就把它列为未来可能替换掉第一个数的备选；如果比第一个数小，就无视之。 </li>
</ul>
<div><div id="highlighter_645283" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">increasingTriplet(</code><code class="java keyword">int</code><code class="java plain">[] nums) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums==</code><code class="java keyword">null</code> <code class="java plain">|| nums.length&lt;</code><code class="java value">3</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">first = </code><code class="java value">0</code><code class="java plain">, second = -</code><code class="java value">1</code><code class="java plain">, third = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// if there is already first and second number found (nums[first]&lt;nums[second]),</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// and if another number x occurs and x &lt; nums[first],</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// then we don't know if x should be put in the triplet if there is, so we put its index in a "firstBackup" variable temporarily</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">firstBackup = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">1</code><code class="java plain">; i&lt;nums.length; i++) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// increasing</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i]&gt;nums[i-</code><code class="java value">1</code><code class="java plain">]) {</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(second==-</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">second = i;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i]&gt;nums[second])</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">second = i;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// decreasing</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(second==-</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i]&lt;=nums[first])</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">first = i;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">second = i;</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i]&gt;nums[second]) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">; </code><code class="java comments">// unreachable, impossible case</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums[i]&gt;nums[first]) {</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(firstBackup != -</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">first = firstBackup;</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">firstBackup = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">second = i;</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(firstBackup==-</code><code class="java value">1</code> <code class="java plain">|| nums[i]&lt;firstBackup)</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">firstBackup = i;</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">; </code><code class="java comments">// ignore</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="reconstruct-itinerary">Reconstruct Itinerary</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a list of airline tickets represented by pairs of departure and arrival airports</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[from, to]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, reconstruct the itinerary in order. All of the tickets belong to a man who departs from</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">JFK</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">. Thus, the itinerary must begin with</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">JFK</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Note:</font></b><br style="box-sizing: border-box"></p>
<ol style="box-sizing: border-box; margin-bottom: 10px; font-family: ; white-space: normal; word-spacing: 0px; margin-top: 0px; text-transform: none; color: ; orphans: 2; widows: 2; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
<li style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">If there are multiple valid itineraries, you should return the itinerary that has the smallest lexical order when read as a single string. For example, the itinerary</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["JFK", "LGA"]</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">has a smaller lexical order than</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["JFK", "LGB"]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">All airports are represented by three capital letters (IATA code).</font>
</li>
<li style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">You may assume all tickets form at least one valid itinerary.</font></li>
</ol>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b><br style="box-sizing: border-box"><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">tickets</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[["MUC", "LHR"], ["JFK", "MUC"], ["SFO", "SJC"], ["LHR", "SFO"]]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["JFK", "MUC", "LHR", "SFO", "SJC"]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font><br style="box-sizing: border-box"></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b><br style="box-sizing: border-box"><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">tickets</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[["JFK","SFO"],["JFK","ATL"],["SFO","ATL"],["ATL","JFK"],["ATL","SFO"]]</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["JFK","ATL","JFK","SFO","ATL","SFO"]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">.<br style="box-sizing: border-box">Another possible reconstruction is</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">["JFK","SFO","ATL","JFK","ATL","SFO"]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">. But it is larger in lexical order.</font></p>
<p>【解答】寻找一个以JFK为首的连续路径，要求把机票都用完，每张机票只用一次。</p>
<p>一开始思路是，使用一个名为visited的map来存储机票是不是用过了，然后使用一个value为list的map来存储出发点和终点之间的对应关系。接着从JFK出发，遍历所有可能性。写代码的时候就觉得有些忐忑，因为看起来整个方法平平淡淡，并不优雅，结果不出意外地超时了。</p>
<div><div id="highlighter_615307" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;String&gt; findItinerary(String[][] tickets) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;String&gt; result = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">null</code><code class="java plain">==tickets)</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code><code class="java plain">(tickets.length==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, Boolean&gt; visited = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;String, List&lt;String&gt;&gt; paths = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String[] pair : tickets) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!paths.containsKey(pair[</code><code class="java value">0</code><code class="java plain">]))</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">paths.put(pair[</code><code class="java value">0</code><code class="java plain">], </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;String&gt;());</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">paths.get(pair[</code><code class="java value">0</code><code class="java plain">]).add(pair[</code><code class="java value">1</code><code class="java plain">]);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">visited.put(pair[</code><code class="java value">0</code><code class="java plain">]+pair[</code><code class="java value">1</code><code class="java plain">], </code><code class="java keyword">false</code><code class="java plain">);</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(List&lt;String&gt; list : paths.values()) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Collections.sort(list);</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String key = </code><code class="java string">"JFK"</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result.add(key);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(traverse(paths, visited, key, result))</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">traverse(Map&lt;String, List&lt;String&gt;&gt; paths, Map&lt;String, Boolean&gt; visited, String key, List&lt;String&gt; result) {</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(result.size()-</code><code class="java value">1</code> <code class="java plain">== visited.size())</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;String&gt; list = paths.get(key);</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(list==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String val : list) {</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String visitedKey = key+val;</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!visited.get(visitedKey)) {</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">visited.put(visitedKey, </code><code class="java keyword">true</code><code class="java plain">);</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result.add(val);</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(traverse(paths, visited, val, result)) {</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result.remove(result.size()-</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">visited.put(visitedKey, </code><code class="java keyword">false</code><code class="java plain">);</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number57 index56 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>如何简化？其实和下面的那道二叉树先序遍历的题类似，图和路径的问题与树一样，也可以考虑使用入度和出度之间的关系来简化。</p>
<p>下面的简明无比的思路来自<a href="https://leetcode.com/discuss/84659/short-ruby-python-java-c" target="_blank" onclick="urchinTracker(&#39;/outgoing/leetcode.com/discuss/84659/short-ruby-python-java-c?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">这里</a>，核心是根据入度和出度的关系，入口的入度-1=出度，而出口的入度+1=出度。</p>
<p>还是使用map来存储出发点和终点的对应关系，但是使用优先级队列来存储终点列表，以免去手动sort之苦。</p>
<p>在下面的递归调用visit的方法中，传入当前所在的地点，只要map中还包含，就从它对应的终点中poll一个出来继续visit，以此while不断进行，直到无法进行下去为止。为什么有了递归还需要这个while？因为一个地点有可能遍历到好几次，即有多张机票的起点相同。</p>
<p>但是形成最终路径的时候，要在while循环之后，在已有路径的头部插入当前地点，因为当前地点是已生成路径的出发点。</p>
<div><div id="highlighter_71689" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java comments">// All nodes except entrance and exit should have the same indegree and outdegree,</code></div><div class="line number2 index1 alt1"><code class="java comments">// if a node indegree-1 == outdegree, it's the exit, and it's also the exit of "while" and the recursion</code></div><div class="line number3 index2 alt2"><code class="java comments">// </code></div><div class="line number4 index3 alt1"><code class="java comments">// use PriorityQueue so there's no need to sort the list explicitly</code></div><div class="line number5 index4 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">List&lt;String&gt; route = </code><code class="java keyword">new</code> <code class="java plain">LinkedList&lt;String&gt;();</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;String&gt; findItinerary(String[][] tickets) {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String[] pair : tickets) {</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(targets.get(pair[</code><code class="java value">0</code><code class="java plain">]) == </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">targets.put(pair[</code><code class="java value">0</code><code class="java plain">], </code><code class="java keyword">new</code> <code class="java plain">PriorityQueue&lt;String&gt;());</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">targets.get(pair[</code><code class="java value">0</code><code class="java plain">]).add(pair[</code><code class="java value">1</code><code class="java plain">]);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.visit(</code><code class="java string">"JFK"</code><code class="java plain">);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">route;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">void</code> <code class="java plain">visit(String airport) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(targets.containsKey(airport) &amp;&amp; !targets.get(airport).isEmpty())</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.visit(targets.get(airport).poll());</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">route.add(</code><code class="java value">0</code><code class="java plain">, airport);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="verify-preorder-serialization-of-a-binary-tree">Verify Preorder Serialization of a Binary Tree</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">One way to serialize a binary tree is to use pre-order traversal. When we encounter a non-null node, we record the node’s value. If it is a null node, we record using a sentinel value such as</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">#</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font style="font-size: 9.8pt" color="#333333">     _9_
    /   \
   3     2
  / \   / \
 4   1  #  6
/ \ / \   / \
# # # #   # #
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">For example, the above binary tree can be serialized to the string</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">"9,3,4,#,#,1,#,#,2,#,6,#,#"</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, where</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">#</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">represents a null node.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a string of comma separated values, verify whether it is a correct preorder traversal serialization of a binary tree. Find an algorithm without reconstructing the tree.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Each comma separated value in the string must be either an integer or a character</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">'#'</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">representing</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">null</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">pointer.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">You may assume that the input format is always valid, for example it could never contain two consecutive commas such as</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">"1,,3"</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><strong style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></strong><br style="box-sizing: border-box"><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">"9,3,4,#,#,1,#,#,2,#,6,#,#"</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">true</font></code></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><strong style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></strong><br style="box-sizing: border-box"><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">"1,#"</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">false</font></code></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><strong style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 3:</font></strong><br style="box-sizing: border-box"><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">"9,#,#,1"</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">false</font></code></p>
<p>【解答】开始的思路是，既然是先序遍历，那给定串的第一个数肯定是root，剩下的部分拆分成左子树和右子树，考虑所有拆分可能，并且用一个布尔型二维数组来表示一段区间是否是合法的二叉树以避免重复计算：</p>
<div><div id="highlighter_913034" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isValidSerialization(String preorder) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(preorder==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String[] arr = preorder.split(</code><code class="java string">","</code><code class="java plain">);</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// (from, to]</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">verify(arr, </code><code class="java value">0</code><code class="java plain">, arr.length, </code><code class="java keyword">new</code> <code class="java plain">Boolean[arr.length][arr.length]);</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">verify(String[] arr, </code><code class="java keyword">int</code> <code class="java plain">from, </code><code class="java keyword">int</code> <code class="java plain">to, Boolean[][] cache) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(from==to) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(from+</code><code class="java value">2</code><code class="java plain">==to) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code> <code class="java keyword">if</code> <code class="java plain">(from+</code><code class="java value">1</code><code class="java plain">==to) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java string">"#"</code><code class="java plain">.equals(arr[from]))</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(cache[from][to-</code><code class="java value">1</code><code class="java plain">] != </code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">cache[from][to-</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String root = arr[from];</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java string">"#"</code><code class="java plain">.equals(root)) {</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[from][to-</code><code class="java value">1</code><code class="java plain">] = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=from+</code><code class="java value">2</code><code class="java plain">; i&lt;to; i++) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// a tree must be ended with "#"</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!</code><code class="java string">"#"</code><code class="java plain">.equals(arr[i-</code><code class="java value">1</code><code class="java plain">]))</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">left = verify(arr, from+</code><code class="java value">1</code><code class="java plain">, i, cache);</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!left)</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">right = verify(arr, i, to, cache);</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(right) {</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[from][to-</code><code class="java value">1</code><code class="java plain">] = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[from][to-</code><code class="java value">1</code><code class="java plain">] = </code><code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>这个思路确实容易想到，可是很快超时了。在<a href="https://leetcode.com/discuss/83824/7-lines-easy-java-solution" target="_blank" onclick="urchinTracker(&#39;/outgoing/leetcode.com/discuss/83824/7-lines-easy-java-solution?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">讨论区</a>我看到了一种巧妙的办法，而且具有一定的典型性，对于树的问题可以通过利用入度和出度之间的关系来简化计算：</p>
<p>对于每一个节点，我们认定从父节点来的路径为入，通往子节点的路径为出，</p>
<ul>
<li>那么显而易见root的入度为0，而出度为2；
</li>
<li>其它非叶子节点的入度为1，出度为2；
</li>
<li>叶子节点的入度为1，出度为0。</li>
</ul>
<p>有了这样的关系，我们就可以沿着先序遍历的顺序从root开始挨个遍历，使用diff来跟踪当前(入度-出度)的值，并且给定一个初始补偿值1，这就意味着，如果这个先序遍历是合法的，那么整个便利过程中，应该不会出现diff小于0的情况，并且，在遍历完成后，diff应该等于0。</p>
<p>这个解法的复杂度只有O(n)，而且不用考虑使用额外占用空间复杂度的布尔数组来存储中间值。</p>
<div><div id="highlighter_716220" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isValidSerialization(String preorder) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String[] nodes = preorder.split(</code><code class="java string">","</code><code class="java plain">);</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">diff = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String node: nodes) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(--diff &lt; </code><code class="java value">0</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!node.equals(</code><code class="java string">"#"</code><code class="java plain">)) diff += </code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">diff == </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="patching-array">Patching Array</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Given a sorted positive integer array<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums</i><span class="Apple-converted-space">&nbsp;</span>and an integer<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i>, add/patch elements to the array such that any number in range</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, n]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">inclusive can be formed by the sum of some elements in the array. Return the minimum number of patches required.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><strong style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 1:</font></strong></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333"><i style="box-sizing: border-box">nums</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 3]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">6</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Combinations of<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums</i><span class="Apple-converted-space">&nbsp;</span>are</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1], [3], [1,3]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, which form possible sums of:</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1, 3, 4</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">.<br style="box-sizing: border-box">Now if we add/patch</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">2</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">to<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">nums</i>, the combinations are:</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1], [2], [3], [1,3], [2,3], [1,2,3]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">.<br style="box-sizing: border-box">Possible sums are</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1, 2, 3, 4, 5, 6</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">, which now covers the range</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 6]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">.<br style="box-sizing: border-box">So we only need</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1</font></code><font face="Helvetica"></font><font color="#333333"><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span></font><font style="font-size: 10.5pt">patch.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><strong style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 2:</font></strong></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333"><i style="box-sizing: border-box">nums</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 5, 10]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">20</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">2</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">.<br style="box-sizing: border-box">The two patches can be</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[2, 4]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><strong style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example 3:</font></strong></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333"><i style="box-sizing: border-box">nums</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 2, 2]</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<span class="Apple-converted-space">&nbsp;</span><i style="box-sizing: border-box">n</i><span class="Apple-converted-space">&nbsp;</span>=</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">5</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">0</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p>【解答】要给一个升序正整数数组打补丁，即添加上若干个数以后，使得使用这些数能够相加组合出从1到n所有的值来。</p>
<p>如果按照正向的思路去想，当前这个正整数组能够产生在1到n之间的哪些数，还差哪些数，添加怎样的数去覆盖这些差的数，就会走入死路，非常难解。但是如果从另外一个角度去看这个问题，问题就好办很多。把1到n这些数从小到大挨个拿出来看，第一个数能不能生成，第二个数能不能生成……一直到第n个：</p>
<ul>
<li>x表示当前需要被生成的数；
</li>
<li>max表示现在这些数里面能够连续覆盖到的最大的数，即覆盖1到max；
</li>
<li>index表示现有升序正整数数组的下标。</li>
</ul>
<p>好，考虑这样的递推关系：当前[1, max]是可以被覆盖的，那么下面我要从nums中去取下一个数，</p>
<ul>
<li>如果这个数取出来和max+1一样大，那就说明这个能覆盖数的范围正好接上了，即从原来的[1,max]变成了[1,max+1]；
</li>
<li>但是如果这个数大于max+1，说明接不上了，即max+1没有办法生成，这就需要打patch，而这个patch就是max+1。</li>
</ul>
<p>上面这一步的思考非常重要，想到的话基本上解题就顺理成章了。</p>
<p>那么如果打了max+1这个patch，新的覆盖范围会变成多少呢？原来的范围是[1,max]，现在有了max+1，这就意味着原来的范围中的每一个数都加上max+1也可以生成了，即可以覆盖[1+(max+1), max+(max+1)]，再加上原来就已经覆盖的[1,max]，于是最新的覆盖范围是[1, max+(max+1)]。</p>
<div><div id="highlighter_673476" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">minPatches(</code><code class="java keyword">int</code><code class="java plain">[] nums, </code><code class="java keyword">int</code> <code class="java plain">n) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// the index indicates [1, x] needs to be covered; use long to avoid overflow</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">long</code> <code class="java plain">x = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// the index in nums</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">index = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// for now [1, max] can be covered</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">long</code> <code class="java plain">max = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">patch = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(x&lt;=n) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// a new number is needed to cover x</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(max&lt;x) {</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// no more existing number, or the next number can't cover max+1</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(index&gt;=nums.length || nums[index]&gt;max+</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// patch needed, and the patch number is max+1</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = max + (max+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">patch++;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// the new range from max to (max+nums[index]) can be covered because</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// before now from 1 to max can be covered, and now there's a new number nums[index]</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// so adding nums[index] to previous range [1, max] we'll get a new covered range [nums[index]+1, nums[index]+max],</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// union both above to get the range [1, max+nums[index]]</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = max + nums[index];</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">index++;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// no new number needed</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">x = max+</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">patch;</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number35 index34 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="longest-increasing-path-in-a-matrix">Longest Increasing Path in a Matrix</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given an integer matrix, find the length of the longest increasing path.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">From each cell, you can either move to four directions: left, right, up or down. You may NOT move diagonally or move outside of the boundary (i.e. wrap-around is not allowed).</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 1:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font color="#333333"></font><font style="font-size: 9.8pt">nums = [
  [</font><font style="font-size: 9.8pt"></font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">9</font><font style="font-size: 9.8pt"></font><font face="Consolas"></font><font color="#333333">,9,4],
  [</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">6</font><font face="Consolas"></font><font style="font-size: 9.8pt"></font><font color="#333333">,6,8],
  [</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">2</font><font color="#333333">,</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">1</font><font color="#333333">,1]
]
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">4</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">The longest increasing path is</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[1, 2, 6, 9]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><b style="box-sizing: border-box"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Example 2:</font></b></p>
<pre style="box-sizing: border-box; overflow: auto; word-wrap: break-word; border-top: rgb(204,204,204) 1px solid; font-family: ; border-right: rgb(204,204,204) 1px solid; word-spacing: 0px; border-bottom: rgb(204,204,204) 1px solid; text-transform: none; word-break: break-all; color: ; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: rgb(204,204,204) 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; display: block; letter-spacing: normal; line-height: 1.4285; padding-right: 9px; background-color: rgb(245,245,245); text-indent: 0px; border-radius: 4px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Consolas"></font><font color="#333333"></font><font style="font-size: 9.8pt">nums = [
  [</font><font style="font-size: 9.8pt"></font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">3</font><font color="#333333">,</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">4</font><font color="#333333">,</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">5</font><font face="Consolas"></font><font style="font-size: 9.8pt"></font><font color="#333333">],
  [3,2,</font><font style="box-sizing: border-box; background-color: #f5f5f5" color="red">6</font><font color="#333333">],
  [2,2,1]
]
</font></pre>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">Return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">4</font></code><br style="box-sizing: border-box"><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">The longest increasing path is</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">[3, 4, 5, 6]</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">. Moving diagonally is not allowed.</font></p>
<p>【解答】这道题比较简单。要找出最长的递增路径。基本思路是尝试以每一个点为起点去遍历寻找，但是如果已经找过的部分，就不要重复找了。因此用一个map来存储这个已经找过的结果，lenMap[i][j]表示以matrix[i][j]为起点的最长路径的长度。</p>
<div><div id="highlighter_336005" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.raychase.net/4077#" class="toolbar_item command_help help">帮助</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">longestIncreasingPath(</code><code class="java keyword">int</code><code class="java plain">[][] matrix) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(matrix==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">h = matrix.length;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(h==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">w = matrix[</code><code class="java value">0</code><code class="java plain">].length;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(w==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[][] lenMap = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[h][w];</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">max = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;h; i++) {</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=</code><code class="java value">0</code><code class="java plain">; j&lt;w; j++) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = Math.max(max, getLen(matrix, i, j, lenMap));</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">getLen(</code><code class="java keyword">int</code><code class="java plain">[][] matrix, </code><code class="java keyword">int</code> <code class="java plain">i, </code><code class="java keyword">int</code> <code class="java plain">j, </code><code class="java keyword">int</code><code class="java plain">[][] lenMap) {</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">h = matrix.length;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">w = matrix[</code><code class="java value">0</code><code class="java plain">].length;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(i&lt;</code><code class="java value">0</code> <code class="java plain">|| i&gt;=h || j&lt;</code><code class="java value">0</code> <code class="java plain">|| j&gt;=w)</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(lenMap[i][j]&gt;</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">lenMap[i][j];</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">len = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(i+</code><code class="java value">1</code><code class="java plain">&lt;h &amp;&amp; matrix[i][j]&lt;matrix[i+</code><code class="java value">1</code><code class="java plain">][j]) {</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">down = getLen(matrix, i+</code><code class="java value">1</code><code class="java plain">, j, lenMap);</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">len = Math.max(len, down+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(j+</code><code class="java value">1</code><code class="java plain">&lt;w &amp;&amp; matrix[i][j]&lt;matrix[i][j+</code><code class="java value">1</code><code class="java plain">]) {</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">right = getLen(matrix, i, j+</code><code class="java value">1</code><code class="java plain">, lenMap);</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">len = Math.max(len, right+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(i-</code><code class="java value">1</code><code class="java plain">&gt;=</code><code class="java value">0</code> <code class="java plain">&amp;&amp; matrix[i][j]&lt;matrix[i-</code><code class="java value">1</code><code class="java plain">][j]) {</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">up = getLen(matrix, i-</code><code class="java value">1</code><code class="java plain">, j, lenMap);</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">len = Math.max(len, up+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(j-</code><code class="java value">1</code><code class="java plain">&gt;=</code><code class="java value">0</code> <code class="java plain">&amp;&amp; matrix[i][j]&lt;matrix[i][j-</code><code class="java value">1</code><code class="java plain">]) {</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">left = getLen(matrix, i, j-</code><code class="java value">1</code><code class="java plain">, lenMap);</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">len = Math.max(len, left+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lenMap[i][j] = len;</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">lenMap[i][j];</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number59 index58 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="odd-even-linked-list">Odd Even Linked List</a></span></strong></p>
<p>【题目】<font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">Given a singly linked list, group all odd nodes together followed by the even nodes. Please note here we are talking about the node number and not the value in the nodes.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">You should try to do it in place. The program should run in O(1) space complexity and O(nodes) time complexity.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px">
</p><p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Example:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">Given</font><span class="Apple-converted-space"><font style="font-size: 10.5pt" color="#333333">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</font></code><font face="Helvetica"></font><font color="#333333"></font><font style="font-size: 10.5pt">,<br style="box-sizing: border-box">return</font><span class="Apple-converted-space"><font style="font-size: 10.5pt">&nbsp;</font></span><code style="box-sizing: border-box; font-family: ; color: ; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; border-radius: 4px"><font face="Consolas"></font><font style="font-size: 9pt; background-color: #f9f2f4" color="#c7254e">1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL</font></code><font face="Helvetica"></font><font style="font-size: 10.5pt" color="#333333">.</font></p>
<p style="box-sizing: border-box; font-family: ; white-space: normal; word-spacing: 0px; text-transform: none; color: ; orphans: 2; widows: 2; margin: 0px 0px 10px; letter-spacing: normal; background-color: rgb(255,255,255); text-indent: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px"><font face="Helvetica"><b style="box-sizing: border-box"><font style="font-size: 10.5pt" color="#333333">Note:</font></b></font><font style="font-size: 10.5pt"><br style="box-sizing: border-box"></font><font color="#333333">The relative order inside both the even and odd groups should remain as it was in the input.<span class="Apple-converted-space">&nbsp;</span><br style="box-sizing: border-box">The first node is considered odd, the second node even and so on …</font></p>
<p>【解答】题目本身没有什么特别的，只不过要求O(1)的空间复杂度，这就意味着基本上只能用简单的指针来解决，不能用辅助栈或者辅助数组。题目比较简单，注意对奇数链表和偶数链表头和尾的把握。</p>
<div><div id="highlighter_161409" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">ListNode oddEvenList(ListNode head) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ListNode odd = </code><code class="java keyword">new</code> <code class="java plain">ListNode(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ListNode tailOdd = odd;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ListNode even = </code><code class="java keyword">new</code> <code class="java plain">ListNode(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ListNode tailEven = even;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">isOdd = </code><code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ListNode cur = head;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(cur != </code><code class="java keyword">null</code><code class="java plain">) {</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(isOdd) {</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailOdd.next = cur;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailOdd = cur;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailEven.next = cur;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailEven = cur;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cur = cur.next;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">isOdd = !isOdd;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailOdd.next = even.next;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">tailEven.next = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">odd.next;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="count-of-range-sum">Count of Range Sum</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given an integer array </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">, return the number of range sums that lie in </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[lower, upper]</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> inclusive.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Range sum <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">S(i, j)</code> is defined as the sum of the elements in <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums</code> between indices <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">i</code> and <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">j</code> (<code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">i</code> ≤ <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">j</code>), inclusive.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Note:</span><br style="box-sizing: border-box">A naive algorithm of <em style="box-sizing: border-box">O</em>(<em style="box-sizing: border-box">n</em><span style="box-sizing: border-box; font-size: 10px; vertical-align: baseline; position: relative; line-height: 0; top: -0.5em">2</span>) is trivial. You MUST do better than that.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span><br style="box-sizing: border-box">Given <em style="box-sizing: border-box">nums</em> = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[-2, 5, -1]</code>, <em style="box-sizing: border-box">lower</em> = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">-2</code>, <em style="box-sizing: border-box">upper</em> = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">2</code>,<br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">3</code>.<br style="box-sizing: border-box">The three ranges are : <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[0, 0]</code>, <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[2, 2]</code>, <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[0, 2]</code> and their respective sums are: <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">-2, -1, 2</code>.</p>
<p>【解答】要找数组满足条件的区间数，要求区间内数之和在i和j之间。确实很容易想到n平方的解法，很清晰也很简单，但是如果要进一步优化时间复杂度，数组并非有序，就不是那么好办了。于是思路开始自然地往动态规划上面靠，可是怎样减少计算量呢？任意一个区间的和，可以由它邻近区间的一个已知结果加减差异元素来得出，可是这样的算法依然要求遍历每一个区间的可能，并未减小复杂度的量级。</p>
<p>这个问题的常规解法有两种，第一种是树状数组（Fenwick tree，或者Binary Indexed Tree – BIT），对于它这个问题是很有代表性的。它用来解决的问题是数组元素更新和连续的N个数求和之间性能开销的平衡问题，换言之，如果我总是需要对某个数组的元素进行更新，而更新以后我有需要得到它任意区间和的最新值，那么用树状数组往往可以获得比较好的性能。定义上不是那么直观，如果原数组是array，树状数组BIT元素的通式为：BIT[i] = array[i–2^k+ 1] + … + array[i]，其中2^k=i&amp;(i^(i-1))，即i&amp;(-i)。但是转换成图示可能会容易理解一点，下面这张图来自<a href="https://en.wikipedia.org/wiki/Fenwick_tree" target="_blank" onclick="urchinTracker(&#39;/outgoing/en.wikipedia.org/wiki/Fenwick_tree?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">维基百科</a>，非常形象地说明了树状数组的构件过程：有这样一个数组[1,2,3,4,5]，从左往右每次取一个元素，每一个BIT的元素都代表了其中一段的和。这样在扫描数组的时候，可以一段一段扫描，而不是像普通数组那样一个一个数地扫描；在更新的时候，也只需要遍历从BIT树的叶子节点一路往上走，直到根为止，没有遍历到的节点不需要更新。这个复杂度就可以降到nlogn。</p>
<p><a href="http://www.raychase.net/wp-content/uploads/2017/01/BITDemo.gif"><img class="sl_lazyimg" title="LeetCode题目解答——第311到371题" style="display: inline" alt="LeetCode题目解答——第311到371题" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_250x250.gif" file="http://www.raychase.net/wp-content/uploads/2017/01/BITDemo_thumb.gif"><noscript>&lt;img title="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" style="display: inline" alt="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" src="http://www.raychase.net/wp-content/uploads/2017/01/BITDemo_thumb.gif" /&gt;</noscript></a></p>
<p>下面这张图（来自<a href="https://www.topcoder.com/community/data-science/data-science-tutorials/binary-indexed-trees/" target="_blank" onclick="urchinTracker(&#39;/outgoing/www.topcoder.com/community/data-science/data-science-tutorials/binary-indexed-trees/?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">这里</a>）更容易看出每一个BIT元素所代表的哪一段的区间和：</p>
<p><a href="http://www.raychase.net/wp-content/uploads/2017/01/bitval.gif"><img class="sl_lazyimg" title="LeetCode题目解答——第311到371题" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="LeetCode题目解答——第311到371题" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2017/01/bitval_thumb.gif"><noscript>&lt;img title="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="LeetCode题目解答&amp;mdash;&amp;mdash;第311到371题" src="http://www.raychase.net/wp-content/uploads/2017/01/bitval_thumb.gif" /&gt;</noscript></a></p>
<p>遗憾的是，BIT树在JDK里面没有实现，因此即便好不容易想到了用它来解，还需要自己去实现（<a href="http://algs4.cs.princeton.edu/99misc/FenwickTree.java.html" target="_blank" onclick="urchinTracker(&#39;/outgoing/algs4.cs.princeton.edu/99misc/FenwickTree.java.html?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">参考实现</a>）BIT，这就让这道题变成hard难度。</p>
<p>另一种解法来自这个讨论中的<a href="https://discuss.leetcode.com/topic/33738/share-my-solution" target="_blank" onclick="urchinTracker(&#39;/outgoing/discuss.leetcode.com/topic/33738/share-my-solution?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">高票回答</a>，不需要BIT的知识，却巧妙借用归并排序的思想，二分归并这个行为本身的复杂度log n，乘以每一个子数组遍历的复杂度n，因此复杂度就是nlogn。如果我们能对原数组进行排序，这样就可以利用二分查找的方法把复杂度降下来，但是因为我们需要找的是区间的和，区间意味着连续的数串，因此对原数组排序是不可行的。但是，如果我们定义一个和数组sums，sums[i]表示的是原数组签名i个元素的和，那么我们就可以对sums[i]来进行归并排序，这一思路是解题的关键：</p>
<ul>
<li>取中点，然后对中点之前的前半段进行归并排序，并返回符合要求的元素个数，再对后半段做同样的事；
</li>
<li>对于每个给定的i，对数组中区间和小于下限的个数记为k，小于上限的个数记为j，那么符合要求的元素个数就是所有(j-k)的累加。</li>
</ul>
<div><div id="highlighter_179100" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">countRangeSum(</code><code class="java keyword">int</code><code class="java plain">[] nums, </code><code class="java keyword">int</code> <code class="java plain">lower, </code><code class="java keyword">int</code> <code class="java plain">upper) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">n = nums.length;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">long</code><code class="java plain">[] sums = </code><code class="java keyword">new</code> <code class="java keyword">long</code><code class="java plain">[n + </code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; n; ++i)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sums[i + </code><code class="java value">1</code><code class="java plain">] = sums[i] + nums[i];</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">countWhileMergeSort(sums, </code><code class="java value">0</code><code class="java plain">, n + </code><code class="java value">1</code><code class="java plain">, lower, upper);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">countWhileMergeSort(</code><code class="java keyword">long</code><code class="java plain">[] sums, </code><code class="java keyword">int</code> <code class="java plain">start, </code><code class="java keyword">int</code> <code class="java plain">end, </code><code class="java keyword">int</code> <code class="java plain">lower, </code><code class="java keyword">int</code> <code class="java plain">upper) {</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(end - start &lt;= </code><code class="java value">1</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">mid = (start + end) / </code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">count = countWhileMergeSort(sums, start, mid, lower, upper) </code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ countWhileMergeSort(sums, mid, end, lower, upper);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">j = mid, k = mid, t = mid;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">long</code><code class="java plain">[] cache = </code><code class="java keyword">new</code> <code class="java keyword">long</code><code class="java plain">[end - start];</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = start, r = </code><code class="java value">0</code><code class="java plain">; i &lt; mid; ++i, ++r) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(k &lt; end &amp;&amp; sums[k] - sums[i] &lt; lower) k++;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(j &lt; end &amp;&amp; sums[j] - sums[i] &lt;= upper) j++;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(t &lt; end &amp;&amp; sums[t] &lt; sums[i]) cache[r++] = sums[t++];</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[r] = sums[i];</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">count += j - k;</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.arraycopy(cache, </code><code class="java value">0</code><code class="java plain">, sums, start, t - start);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">count;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number27 index26 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="power-of-three"><font color="#000000"></font>Power of Three</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given an integer, write a function to determine if it is a power of three.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Follow up:</span><br style="box-sizing: border-box">Could you do it without using any loop / recursion?</p>
<p>【解答】其实3的乘方数很少，因为乘方的大小上涨得很快，所以完全可以在初始化的时候就找出所有3的乘方数来。当心溢出就好。</p>
<div><div id="highlighter_907700" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Set&lt;Integer&gt; all = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;&gt;();</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Solution() {</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">upperLimit = Integer.MAX_VALUE/</code><code class="java value">3</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">n=</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(</code><code class="java keyword">true</code><code class="java plain">) {</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">all.add(n);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(n&lt;upperLimit)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">n = n*</code><code class="java value">3</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">break</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">isPowerOfThree(</code><code class="java keyword">int</code> <code class="java plain">n) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">all.contains(n);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="wiggle-sort-ii">Wiggle Sort II</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given an unsorted array </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">, reorder it such that </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]...</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span><br style="box-sizing: border-box">(1) Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums = [1, 5, 1, 1, 6, 4]</code>, one possible answer is <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[1, 4, 1, 5, 1, 6]</code>. <br style="box-sizing: border-box">(2) Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums = [1, 3, 2, 2, 3, 1]</code>, one possible answer is <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[2, 3, 1, 3, 1, 2]</code>.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Note:</span><br style="box-sizing: border-box">You may assume all input has valid answer.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Follow Up:</span><br style="box-sizing: border-box">Can you do it in O(n) time and/or in-place with O(1) extra space?</p>
<p>【解答】要最终排成一大一小依次排列的结果。我的做法是：</p>
<ul>
<li>先排序；
</li>
<li>然后把大的一半先拿出来，放到最终结果的奇数位置上去；
</li>
<li>再把剩下小的一半拿出来，放到最终结果的偶数位置上去。 </li>
</ul>
<p>要着重说明的一点就是，上面这个过程，遍历都是逆序的。也就是说，排好序之后从左到右是从小到大，但是取数的时候是从右到左，即从大到小来取的。</p>
<p>为什么要这样做？</p>
<p>因为排序以后的数组是从小到大的，因此第一遍拿大的一半，那么最大的数会在结果数组靠左的位置，而原数组中居中的数会在结果数组靠右的位置；第二遍拿小的一半，于是原数组中居中的数会在结果数组靠左的位置，而最小的数会在结果数组中靠右的位置——于是居中的数被拆开了，分别在结果数组的最左边和最右边。这样就避免了重复的数落在了结果数组中相邻的位置。</p>
<p>比如说4，5，5，6：如果按照上面的方法逆序遍历会得到5，6，4，5，但是如果顺序遍历，会得到4，5，5，6，于是问题就出在相邻的两个5上。</p>
<div><div id="highlighter_488299" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java comments">// time: O(nlogn), space: O(n)</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">wiggleSort(</code><code class="java keyword">int</code><code class="java plain">[] nums) {</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// clone and sort</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] copy = nums.clone();</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Arrays.sort(copy);</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">index = copy.length-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// fill in nums with odd index, going backward in array copy:</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// they're all large numbers</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">1</code><code class="java plain">; i&lt;nums.length; i+=</code><code class="java value">2</code><code class="java plain">) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">nums[i] = copy[index];</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">index--;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// fill in nums with even index, going backward in array copy:</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// they're all small numbers</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;nums.length; i+=</code><code class="java value">2</code><code class="java plain">) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">nums[i] = copy[index];</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">index--;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="coin-change">Coin Change</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">You are given coins of different denominations and a total amount of money </span><em style="box-sizing: border-box">amount</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">. Write a function to compute the fewest number of coins that you need to make up that amount. If that amount of money cannot be made up by any combination of the coins, return </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">-1</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 1:</span><br style="box-sizing: border-box">coins = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[1, 2, 5]</code>, amount = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">11</code><br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">3</code> (11 = 5 + 5 + 1)</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 2:</span><br style="box-sizing: border-box">coins = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[2]</code>, amount = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">3</code><br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">-1</code>.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Note</span>:<br style="box-sizing: border-box">You may assume that you have an infinite number of each kind of coin.</p>
<p>【解答】要求最少钱币的数目。</p>
<p>如果有1、2、5三枚面值不同的硬币，那么对于任意目标值x，我如果能知道(x-1)、(x-2)和(x-5)这三个值所用到的最少钱币数目就好了。</p>
<p>想到这里，就可以用动态规划来解答了。</p>
<div><div id="highlighter_476916" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">coinChange(</code><code class="java keyword">int</code><code class="java plain">[] coins, </code><code class="java keyword">int</code> <code class="java plain">amount) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Arrays.sort(coins);</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">coin(coins, coins.length-</code><code class="java value">1</code><code class="java plain">, amount, </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[coins.length][amount+</code><code class="java value">1</code><code class="java plain">]);</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">coin(</code><code class="java keyword">int</code><code class="java plain">[] coins, </code><code class="java keyword">int</code> <code class="java plain">pos, </code><code class="java keyword">int</code> <code class="java plain">amount, </code><code class="java keyword">int</code><code class="java plain">[][] cache) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(amount==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(cache[pos][amount]!=</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">cache[pos][amount];</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">min = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=pos; i&gt;=</code><code class="java value">0</code><code class="java plain">; i--) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(coins[i]&gt;amount)</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">count = coin(coins, i, amount-coins[i], cache);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(count!=-</code><code class="java value">1</code> <code class="java plain">&amp;&amp; (count&lt;min || min==-</code><code class="java value">1</code><code class="java plain">))</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">min = count;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(min!=-</code><code class="java value">1</code><code class="java plain">)</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">min++;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[pos][amount] = min;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">min;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number30 index29 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="create-maximum-number">Create Maximum Number</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given two arrays of length </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">m</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> and </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">n</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> with digits </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">0-9</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> representing two numbers. Create the maximum number of length </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">k &lt;= m + n</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> from digits of the two. The relative order of the digits from the same array must be preserved. Return an array of the </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">k</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> digits. You should try to optimize your time and space complexity.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 1:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">nums1 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[3, 4, 6, 5]</code><br style="box-sizing: border-box">nums2 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[9, 1, 2, 5, 8, 3]</code><br style="box-sizing: border-box">k = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">5</code><br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[9, 8, 6, 5, 3]</code></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 2:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">nums1 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[6, 7]</code><br style="box-sizing: border-box">nums2 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[6, 0, 4]</code><br style="box-sizing: border-box">k = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">5</code><br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[6, 7, 6, 0, 4]</code></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 3:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">nums1 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[3, 9]</code><br style="box-sizing: border-box">nums2 = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[8, 9]</code><br style="box-sizing: border-box">k = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">3</code><br style="box-sizing: border-box">return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[9, 8, 9]</code></p>
<p>【解答】给两串数m和n，分别取几个，加起来的个数不超过k，并且从m和n中取的子串保持在原串中顺序相对位置，然后任意位置merge起来。要求最后得到的那一串数所代表的那个数尽可能大。</p>
<p>看起来，这道题给人的第一印象是，从m中选一串数，从n中也选一串数，这两个是变化点。但是如果这两串数定下来，那么下面的行为类似于归并排序，每一个子串都有一个指针记录当前位置，从这两个子串中取数每次都取尽量大的数。</p>
<p>顺着这样的思路，我一开始建立了一个比较复杂的模型，一个三维的动态规划。但是我们一般只会接触到最多二维的动态规划，所以当时的感觉就觉得可能走到歪路上去了。果然，还是过于复杂，执行超时了。简单介绍当时的思路。</p>
<p>建立dp[x][y][k]表示第一个子串从m的[x, m.length)中取，第二个子串从n的[y, n.length)中取，那么分析如下四种case：</p>
<ul>
<li>case 1，m[x]是结果中的一部分，因此当我拿掉m[x]的时候，两个子串和k分别变成了m[x+1, m.length)，n[y, n.length)，k-1
</li>
<li>case 2，n[y]是结果中的一部分，因此当我拿掉n[y]的时候，两个子串和k分别变成了m[x, m.length)，n[y+1, n.length)，k-1
</li>
<li>case 3，m[x]不是结果中的一部分，因此当我拿掉m[x]，对结果没有影响，两个子串和k分别为m[x+1, m.length)，n[y, n.length)，k
</li>
<li>case 4，n[y]不是结果中的一部分，因此当我拿掉n[y]，对结果没有影响，两个子串和k分别为m[x, m.length)，n[y+1, n.length)，k </li>
</ul>
<p>也就是说，当前的子串状态，可能源于上面四个case，发生变化得到，具体哪一个呢，需要再去比较以上这4个case情况下的大小，取最大的结果……很多数组拷贝，看着就很冗长。</p>
<div><div id="highlighter_364380" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">Item {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] data;</code></div><div class="line number3 index2 alt2"><code class="java plain">}</code></div><div class="line number4 index3 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] maxNumber(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code><code class="java plain">[] nums2, </code><code class="java keyword">int</code> <code class="java plain">k) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item[][][] dp = </code><code class="java keyword">new</code> <code class="java plain">Item[nums1.length+</code><code class="java value">1</code><code class="java plain">][nums2.length+</code><code class="java value">1</code><code class="java plain">][k+</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item result = maxNumber(nums1, nums2, </code><code class="java value">0</code><code class="java plain">, </code><code class="java value">0</code><code class="java plain">, k, dp);</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result.data;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Item maxNumber(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code><code class="java plain">[] nums2, </code><code class="java keyword">int</code> <code class="java plain">x, </code><code class="java keyword">int</code> <code class="java plain">y, </code><code class="java keyword">int</code> <code class="java plain">k, Item[][][] dp) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(dp[x][y][k]!=</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">dp[x][y][k];</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item item = </code><code class="java keyword">new</code> <code class="java plain">Item();</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(k==</code><code class="java value">0</code><code class="java plain">) {</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">item.data = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[]{};</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">dp[x][y][k] = item;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">item;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums1.length-x + nums2.length-y &lt; k)</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 1: pick from nums1</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item pickNums1 = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x&lt;nums1.length)</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">pickNums1 = buildItem(nums1[x], maxNumber(nums1, nums2, x+</code><code class="java value">1</code><code class="java plain">, y, k-</code><code class="java value">1</code><code class="java plain">, dp));</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 2: pick from nums2</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item pickNums2 = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(y&lt;nums2.length)</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">pickNums2 = buildItem(nums2[y], maxNumber(nums1, nums2, x, y+</code><code class="java value">1</code><code class="java plain">, k-</code><code class="java value">1</code><code class="java plain">, dp));</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 3: pass in nums1</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item passNums1 = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(x&lt;nums1.length)</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">passNums1 = maxNumber(nums1, nums2, x+</code><code class="java value">1</code><code class="java plain">, y, k, dp);</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// case 4: pass in nums2</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item passNums2 = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(y&lt;nums2.length)</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">passNums2 = maxNumber(nums1, nums2, x, y+</code><code class="java value">1</code><code class="java plain">, k, dp);</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// choose the largest one</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item result = max(pickNums1, pickNums2, passNums1, passNums2);</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">dp[x][y][k] = result;</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Item buildItem(</code><code class="java keyword">int</code> <code class="java plain">num, Item item) {</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(item==</code><code class="java keyword">null</code><code class="java plain">)</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item newItem = </code><code class="java keyword">new</code> <code class="java plain">Item();</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newItem.data = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[item.data.length+</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.arraycopy(item.data, </code><code class="java value">0</code><code class="java plain">, newItem.data, </code><code class="java value">1</code><code class="java plain">, item.data.length);</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">newItem.data[</code><code class="java value">0</code><code class="java plain">] = num;</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">newItem;</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Item max(Item… items) {</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Item max = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(Item item : items) {</code></div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">boolean</code> <code class="java plain">result = compare(max, item);</code></div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!result)</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = item;</code></div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">compare(Item a, Item b) {</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(b==</code><code class="java keyword">null</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a==</code><code class="java keyword">null</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a.data.length &gt; b.data.length) </code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a.data.length &lt; b.data.length) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;a.data.length; i++) {</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a.data[i] &gt; b.data[i])</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(a.data[i] &lt; b.data[i])</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number89 index88 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>在这个网站上有一个<a href="https://www.hrwhisper.me/leetcode-create-maximum-number/" target="_blank" onclick="urchinTracker(&#39;/outgoing/www.hrwhisper.me/leetcode-create-maximum-number/?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">好的解法</a>，我拿过来了。基本思路是：</p>
<ul>
<li>不管怎么取，要从nums1中取 i 个数组成的子数组A，要从nums2中取 k-i 个数组成的子数组B；
</li>
<li>那么当给定某一个 i 的时候，A要尽量大，而这个尽量大和B无关；同样，B要尽量大，也和A无关，因此，在给定某一个 i 的时候，可以得到唯一的最佳解A和最佳解B——这个强化条件然后分治的思路是简化这个问题的核心；
</li>
<li>接着计算A和B，即要从一个给定数组中，挑出给定数目的数所组成的子数组，使之所表示的数最大，就比较简单了；
</li>
<li>最后再遍历所有 i 的取值，得出最终结果。 </li>
</ul>
<div><div id="highlighter_986609" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] maxNumber(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code><code class="java plain">[] nums2, </code><code class="java keyword">int</code> <code class="java plain">k) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] ans = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[k];</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = Math.max(k - nums2.length, </code><code class="java value">0</code><code class="java plain">); i &lt;= Math.min(nums1.length, k); i++) {</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] res1 = get_max_sub_array(nums1, i);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] res2 = get_max_sub_array(nums2, k - i);</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] res = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[k];</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">pos1 = </code><code class="java value">0</code><code class="java plain">, pos2 = </code><code class="java value">0</code><code class="java plain">, tpos = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(pos1 &lt; res1.length || pos2 &lt; res2.length) {</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">res[tpos++] = greater(res1, pos1, res2, pos2) ? res1[pos1++] : res2[pos2++];</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!greater(ans, </code><code class="java value">0</code><code class="java plain">, res, </code><code class="java value">0</code><code class="java plain">))</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ans = res;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">ans;</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">greater(</code><code class="java keyword">int</code><code class="java plain">[] nums1, </code><code class="java keyword">int</code> <code class="java plain">start1, </code><code class="java keyword">int</code><code class="java plain">[] nums2, </code><code class="java keyword">int</code> <code class="java plain">start2) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(; start1 &lt; nums1.length &amp;&amp; start2 &lt; nums2.length; start1++, start2++) {</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums1[start1] &gt; nums2[start2]) </code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(nums1[start1] &lt; nums2[start2]) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">start1 != nums1.length;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code><code class="java plain">[] get_max_sub_array(</code><code class="java keyword">int</code><code class="java plain">[] nums, </code><code class="java keyword">int</code> <code class="java plain">k) {</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] res = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[k];</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">len = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; nums.length; i++) {</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(len &gt; </code><code class="java value">0</code> <code class="java plain">&amp;&amp; len + nums.length - i &gt; k &amp;&amp; res[len - </code><code class="java value">1</code><code class="java plain">] &lt; nums[i]) {</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">len--;</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(len &lt; k)</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">res[len++] = nums[i];</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">res;</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number41 index40 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="bulb-switcher">Bulb Switcher</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">There are </span><em style="box-sizing: border-box">n</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> bulbs that are initially off. You first turn on all the bulbs. Then, you turn off every second bulb. On the third round, you toggle every third bulb (turning on if it's off or turning off if it's on). For the </span><em style="box-sizing: border-box">i</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">th round, you toggle every </span><em style="box-sizing: border-box">i</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> bulb. For the </span><em style="box-sizing: border-box">n</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">th round, you only toggle the last bulb. Find how many bulbs are on after </span><em style="box-sizing: border-box">n</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> rounds.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span></p>
<pre style="box-sizing: border-box; font-size: 13px; overflow: auto; word-wrap: break-word; border-top: #cccccc 1px solid; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; border-right: #cccccc 1px solid; border-bottom: #cccccc 1px solid; word-break: break-all; color: #333333; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: #cccccc 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; line-height: 1.4285; padding-right: 9px; background-color: #f5f5f5; font-variant-ligatures: normal; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px">Given <em style="box-sizing: border-box">n</em> = 3. <br style="box-sizing: border-box">
At first, the three bulbs are <span style="box-sizing: border-box; font-weight: bold">[off, off, off]</span>.
After first round, the three bulbs are <span style="box-sizing: border-box; font-weight: bold">[on, on, on]</span>.
After second round, the three bulbs are <span style="box-sizing: border-box; font-weight: bold">[on, off, on]</span>.
After third round, the three bulbs are <span style="box-sizing: border-box; font-weight: bold">[on, off, off]</span>. <br style="box-sizing: border-box">
So you should return 1, because there is only one bulb is on.</pre>
<p>【解答】如果你和我开始一样，尝试用循环去模拟所有的灯泡开关行为，能得到答案，但是大的case肯定会超时。</p>
<p>在讨论区找打了一个精妙的<a href="https://leetcode.com/discuss/75014/math-solution" target="_blank" onclick="urchinTracker(&#39;/outgoing/leetcode.com/discuss/75014/math-solution?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">解答</a>。任意一个数，如果可以分解成两个数a和b的乘积，那么当a和b不等的时候，就意味着成对出现了灯状态改变的行为。例如36=4x9，36=9x4，即偶数次的改变相当于不变。但是，如果a=b，在这种唯一的情况下，这种状态改变是成单的，并最终导致了灯泡状态的改变。也就是说，这种情况一定意味着该数可以被开平方。</p>
<div><div id="highlighter_367223" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">bulbSwitch(</code><code class="java keyword">int</code> <code class="java plain">n) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">(</code><code class="java keyword">int</code><code class="java plain">)Math.sqrt(n);</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number5 index4 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="maximum-product-of-word-lengths">Maximum Product of Word Lengths</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given a string array </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">words</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">, find the maximum value of </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">length(word[i]) * length(word[j])</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> where the two words do not share common letters. You may assume that each word will contain only lower case letters. If no such two words exist, return 0.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 1:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">["abcw", "baz", "foo", "bar", "xtfn", "abcdef"]</code><br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">16</code><br style="box-sizing: border-box">The two words can be <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"abcw", "xtfn"</code>.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 2:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">["a", "ab", "abc", "d", "cd", "bcd", "abcd"]</code><br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">4</code><br style="box-sizing: border-box">The two words can be <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"ab", "cd"</code>.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example 3:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">["a", "aa", "aaa", "aaaa"]</code><br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">0</code><br style="box-sizing: border-box">No such pair of words.</p>
<p>【解答】要找出互无重复字母的两个单词长度之积的最大值，很容易想到的是，不存在大小和递推关系，只有等和不等，因此如果没有特殊的方法，要两两比较，O(n²)这样的复杂度是少不了的。</p>
<p>那如果是这样的话，下面要解决的问题就是：从中给出两个单词，要比较这两个单词之间是否有字母重复，怎样让时间和空间复杂度尽量小。</p>
<p>开始尝试用HashSet来解决，即把一个单词中出现的字母全部找出来放到HashSet里面，如果另一个单词中的字母能从这个HashSet中找到，就说明有重复，反之则没有。我照着思路做了以后，超时了。</p>
<p>于是使用BitMap来改进：一个整数有32位，因此有32个位置可以表示0或者1，但是字母只有26个，因此如果某字母出现过，那么在相应位上面就为1而不为0，这样一个整数就可以表示任意一个单词中出现的字母种类。把单词转换成整数的方法可以作为“预处理”的步骤之一，而实际在实际的比较中，只需要先看两个单词所代表的整数相“与”，如果全0则表示无重复字母。用这种方法可比比较整个HashSet效率高多了。</p>
<div><div id="highlighter_263352" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">maxProduct(String[] words) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// bit map</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; list = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;();</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(String w : words) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">num = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;w.length(); i++) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">num = num | getMask(w.charAt(i));</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">list.add(num);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">max = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;list.size(); i++) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=i+</code><code class="java value">1</code><code class="java plain">; j&lt;list.size(); j++) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">( ( list.get(i).intValue() &amp; list.get(j).intValue() ) != </code><code class="java value">0</code> <code class="java plain">)</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = Math.max(words[i].length() * words[j].length(), max);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">getMask(</code><code class="java keyword">char</code> <code class="java plain">c) {</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">1</code> <code class="java plain">&lt;&lt; (c - </code><code class="java string">'a'</code><code class="java plain">);</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="remove-duplicate-letters">Remove Duplicate Letters</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given a string which contains only lowercase letters, remove duplicate letters so that every letter appear once and only once. You must make sure your result is the smallest in lexicographical order among all possible results.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"bcabc"</code><br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"abc"</code></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"cbacdcbc"</code><br style="box-sizing: border-box">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">"acdb"</code></p>
<p>【解答】要求去重复字母，并且去重完毕之后，要求得到的字符串字典字母序最小。</p>
<p>下面这个是我一开始的解答，思路是：</p>
<ul>
<li>用一个map来存放字母出现的位置：key为字母，value为出现位置下标的数组（因为可能出现多次，所以用数组）。
</li>
<li>这个map构造完成之后，从a开始遍历检查到z，期间用lastPos保存上一个字母选取的位置：如果当前字母的位置都在lastPos的左边，那就选一个最小的；如果有存在在lastPos右边的，就二分查找取一个最接近且大于lastPos的。 </li>
</ul>
<p>举例来说：对于字符串“acbab”，构造这样的map：</p>
<ul>
<li>a -&gt; [0, 3]
</li>
<li>b -&gt; [2, 4]
</li>
<li>c -&gt; [1] </li>
</ul>
<p>然后开始从a-z遍历：</p>
<ul>
<li>对a，有两个，但是lastPos为初始值-1，因此直接取最小的，就是下标为0的a，赋值lastPos=0；
</li>
<li>对b，出现位置有lastPos右边的，二分查找取最接近且比0大的，于是取了下标2的b，赋值lastPos=2；
</li>
<li>对c，发现全都在lastPos左边的，取最小的（也只有一个），于是去了下标为1的，赋值lastPos=1。 </li>
</ul>
<p>于是结果为“acb”，看起来逻辑是对的。</p>
<p>但是写完代码跑用例的时候傻眼了，有一个case用这个方法是过不去的，比如“cbacdcbc”，用上面的办法得到的是“adbc”，但实际应该是“acdb”。</p>
<p>原因在于，选a的时候没问题，选b的时候也没问题，但是选c的时候，上面的方法本质上是一种贪心的策略，因此挑了一个出现在b右侧的c，而在这里用贪心是行不通的，因为d的关系。</p>
<div><div id="highlighter_835527" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String removeDuplicateLetters(String s) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;Character, List&lt;Integer&gt;&gt; map = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;s.length(); i++) {</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">char</code> <code class="java plain">ch = s.charAt(i);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!map.containsKey(ch))</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.put(ch, </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;());</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">map.get(ch).add(i);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">lastPos = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Map&lt;Character, Integer&gt; posMap = </code><code class="java keyword">new</code> <code class="java plain">HashMap&lt;&gt;();</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">; i&lt;</code><code class="java value">26</code><code class="java plain">; i++) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">char</code> <code class="java plain">ch = (</code><code class="java keyword">char</code><code class="java plain">)(</code><code class="java string">'a'</code> <code class="java plain">+ i);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(!map.containsKey(ch))</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">continue</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(lastPos==-</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lastPos = map.get(ch).get(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; list = map.get(ch);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(list.get(list.size()-</code><code class="java value">1</code><code class="java plain">) &gt; lastPos) {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lastPos = binarySearch(map.get(ch), lastPos);</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">lastPos = map.get(ch).get(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">posMap.put(ch, lastPos);</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Character&gt; resultList = </code><code class="java keyword">new</code> <code class="java plain">LinkedList&lt;&gt;();</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(Map.Entry&lt;Character, Integer&gt; entry : posMap.entrySet()) {</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">char</code> <code class="java plain">ch = entry.getKey();</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">pos = entry.getValue();</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">insertPos = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(insertPos&lt;resultList.size() &amp;&amp; pos&gt;posMap.get(resultList.get(insertPos)))</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">insertPos++;</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">resultList.add(insertPos, ch);</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String result = </code><code class="java string">""</code><code class="java plain">;</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">char</code> <code class="java plain">ch : resultList) {</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result += ch;</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">binarySearch(List&lt;Integer&gt; list, </code><code class="java keyword">int</code> <code class="java plain">pivot) {</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">left = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">right = list.size()-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(left&lt;=right) {</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">mid = (left+right)/</code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(list.get(mid)&gt;pivot)</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">right = mid - </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">left = mid + </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">list.get(left);</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number66 index65 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>在题目的讨论中有一种正确而且简洁的<a href="https://discuss.leetcode.com/topic/31404/a-short-o-n-recursive-greedy-solution" target="_blank" onclick="urchinTracker(&#39;/outgoing/discuss.leetcode.com/topic/31404/a-short-o-n-recursive-greedy-solution?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">解法</a>。思路是：</p>
<ul>
<li>用一个数组cnt记录每个字母出现的次数；
</li>
<li>用pos表示是当前s中最小字母出现的位置，遍历s中的每一个字母，如果当前位置i的字母的字典序比pos所代表的字母更小，就更新pos；
</li>
<li>cnt中表示该位置i的字母的次数减一，如果为0了就跳出遍历；
</li>
<li>以pos上所指的字母为本次方法调用所选择的字母，余下字母继续递归调用执行以上逻辑。 </li>
</ul>
<div>这种方法也是贪心，但是每次贪心选出来的字母却不一定是从a到z这样的顺序的，原因在于：不是根据字典序，而是从左至右遍历s，每次因为某一个字母的所有位置都被找出来了，就跳出循环，但是选中的字却确不是当时遍历到的字母，而是当时状态下遍历过的的最小字母。该字母左边的全部子串都删掉，右边则把重复出现的该字母删掉。</div>
<div>还用上面的“cbacdcbc”举例：</div>
<div>
<ul>
<li>第一次遍历完a以后跳出，选出a来，然后把a左边的子串“cd”删掉，余下子串“cdcbc”；
</li>
<li>第二次便利完d以后跳出，选出c中的第一个来，这个c左边没有子串，右边子串中的c删掉，因此余下子串“db”；
</li>
<li>第三次便利完d以后跳出，选出d来，余下子串“d”；
</li>
<li>第四次选出c来，于是结果就是“acdb”。 </li>
</ul>
</div>
<div><div id="highlighter_990249" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String removeDuplicateLetters(String s) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] cnt = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[</code><code class="java value">26</code><code class="java plain">];</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">pos = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; s.length(); i++)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cnt[s.charAt(i) - </code><code class="java string">'a'</code><code class="java plain">]++;</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; s.length(); i++) {</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(s.charAt(i) &lt; s.charAt(pos))</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">pos = i;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(--cnt[s.charAt(i) - </code><code class="java string">'a'</code><code class="java plain">] == </code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">break</code><code class="java plain">;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">s.length() == </code><code class="java value">0</code> <code class="java plain">? </code><code class="java string">""</code> <code class="java plain">: s.charAt(pos)</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">+ removeDuplicateLetters(s.substring(pos + </code><code class="java value">1</code><code class="java plain">).replaceAll(</code><code class="java string">""</code> <code class="java plain">+ s.charAt(pos), </code><code class="java string">""</code><code class="java plain">));</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number16 index15 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="count-of-smaller-numbers-after-self">Count of Smaller Numbers After Self</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">You are given an integer array </span><em style="box-sizing: border-box">nums</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> and you have to return a new </span><em style="box-sizing: border-box">counts</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> array. The </span><em style="box-sizing: border-box">counts</em><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> array has the property where </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">counts[i]</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> is the number of smaller elements to the right of </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums[i]</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span></p>
<pre style="box-sizing: border-box; font-size: 13px; overflow: auto; word-wrap: break-word; border-top: #cccccc 1px solid; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; border-right: #cccccc 1px solid; border-bottom: #cccccc 1px solid; word-break: break-all; color: #333333; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: #cccccc 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; line-height: 1.4285; padding-right: 9px; background-color: #f5f5f5; font-variant-ligatures: normal; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px">Given <em style="box-sizing: border-box">nums</em> = [5, 2, 6, 1]

To the right of 5 there are <span style="box-sizing: border-box; font-weight: bold">2</span> smaller elements (2 and 1).
To the right of 2 there is only <span style="box-sizing: border-box; font-weight: bold">1</span> smaller element (1).
To the right of 6 there is <span style="box-sizing: border-box; font-weight: bold">1</span> smaller element (1).
To the right of 1 there is <span style="box-sizing: border-box; font-weight: bold">0</span> smaller element.
</pre>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Return the array <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[2, 1, 1, 0]</code>.</p>
<p>【解答】每次取nums数组的最右边的x个数，形成数列arr，把其中比arr[0]小的数的个数统计出来为y，随着x从n变到1，得出这个统计值y变化的结果并形成数组返回。</p>
<p>这个x如果是从1变到n，可能会更好计算。因为我每时每刻只要维护一个有序数组用来表示当前arr中所有的数们，只不过他们是被排序了的，x每次递增则意味着要从nums里面取一个新数放到这个有序数组里面去。根据放进去的位置，就能够知道当时有多少个数比它小。</p>
<div><div id="highlighter_338026" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">List&lt;Integer&gt; countSmaller(</code><code class="java keyword">int</code><code class="java plain">[] nums) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; sorted = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(nums.length);</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">List&lt;Integer&gt; result = </code><code class="java keyword">new</code> <code class="java plain">ArrayList&lt;&gt;(nums.length);</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=nums.length-</code><code class="java value">1</code><code class="java plain">; i&gt;=</code><code class="java value">0</code><code class="java plain">; i--) {</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">index = insert(nums[i], sorted);</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">result.add(</code><code class="java value">0</code><code class="java plain">, index);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">result;</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">int</code> <code class="java plain">insert(</code><code class="java keyword">int</code> <code class="java plain">num, List&lt;Integer&gt; sorted) {</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(sorted.isEmpty()) {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sorted.add(num);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java value">0</code><code class="java plain">;</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">left = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">right = sorted.size() - </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code><code class="java plain">(left&lt;=right) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">mid = (left+right)/</code><code class="java value">2</code><code class="java plain">;</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(sorted.get(mid)&gt;=num) {</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">right = mid-</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">else</code> <code class="java plain">{</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">left = mid+</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">sorted.add(left, num);</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">left;</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number33 index32 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="super-ugly-number">Super Ugly Number</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Write a program to find the n</span><span style="box-sizing: border-box; font-size: 10px; vertical-align: baseline; position: relative; line-height: 0; top: -0.5em">th</span><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> super ugly number.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Super ugly numbers are positive numbers whose all prime factors are in the given prime list <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">primes</code> of size <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">k</code>. For example, <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32] </code>is the sequence of the first 12 super ugly numbers given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">primes</code> = <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[2, 7, 13, 19]</code> of size 4.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Note:</span><br style="box-sizing: border-box">(1) <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">1</code> is a super ugly number for any given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">primes</code>.<br style="box-sizing: border-box">(2) The given numbers in <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">primes</code> are in ascending order.<br style="box-sizing: border-box">(3) 0 &lt; <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">k</code> ≤ 100, 0 &lt; <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">n</code> ≤ 10<span style="box-sizing: border-box; font-size: 10px; vertical-align: baseline; position: relative; line-height: 0; top: -0.5em">6</span>, 0 &lt; <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">primes[i]</code> &lt; 1000.</p>
<p>【解答】首先读懂题意。Super Ugly数是指一串正数，他们的质因数由给定的prime list组成，现在给定一个prime list，要求第k个Super Ugly数。</p>
<p>建立这个Super Ugly数序列的数组arr，并且首元素置为1。</p>
<p>再创建一个indexArr数组，其中的下标i表示在primes中的第i个质数，而存放的值表示arr中的下标。为什么要建立它，主要是因为对于任何一个在primes中的质数，如果要乘以arr中的某一个数的时候，需要用一个数记录当前在哪个数上面，而它前面的已经乘过了，因此现在要乘以primes[x]的话，需要从arr[indexArr[x]]开始。也就是说，这是一个存放的是下标的数组。这个思路其实有点绕，也是这个题目的关键，如果这一步想出来了这个题就没有难度了。</p>
<p>最后，注意去重的处理。</p>
<p>总的来说，我觉得这道题要做对挺难的啊，不止Medium难度。</p>
<div><div id="highlighter_436998" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">nthSuperUglyNumber(</code><code class="java keyword">int</code> <code class="java plain">n, </code><code class="java keyword">int</code><code class="java plain">[] primes) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(n&lt;=</code><code class="java value">0</code> <code class="java plain">|| primes==</code><code class="java keyword">null</code> <code class="java plain">|| primes.length==</code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throw</code> <code class="java keyword">new</code> <code class="java plain">IllegalArgumentException();</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] arr = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[n];</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[</code><code class="java value">0</code><code class="java plain">] = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// each prime owns its dedicated index on arr</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] indexArr = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[primes.length];</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">1</code><code class="java plain">; i&lt;n; i++) {</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">min = Integer.MAX_VALUE;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">posToIncrease = -</code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">j=</code><code class="java value">0</code><code class="java plain">; j&lt;primes.length; j++) {</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">index = indexArr[j];</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">prime = primes[j];</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(prime*arr[index] &lt; min) {</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">min = prime * arr[index];</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">posToIncrease = j;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">indexArr[posToIncrease] += </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// dedup</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(arr[i-</code><code class="java value">1</code><code class="java plain">] == min)</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">i--;</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">else</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">arr[i] = min;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">arr[arr.length-</code><code class="java value">1</code><code class="java plain">];</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number35 index34 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><span style="color: #ff0000"><a id="burst-balloons">Burst Balloons</a></span></strong></p>
<p>【题目】<span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">Given </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">n</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> balloons, indexed from </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">0</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> to </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">n-1</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">. Each balloon is painted with a number on it represented by array </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">. You are asked to burst all the balloons. If the you burst balloon </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">i</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> you will get </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums[left] * nums[i] * nums[right]</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> coins. Here </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">left</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> and </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">right</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> are adjacent indices of </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">i</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2">. After the burst, the </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">left</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> and </span><code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">right</code><span style="font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2"> then becomes adjacent.</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Find the maximum coins you can collect by bursting the balloons wisely.</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Note:</span>&nbsp;<br style="box-sizing: border-box">(1) You may imagine <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums[-1] = nums[n] = 1</code>. They are not real therefore you can not burst them.<br style="box-sizing: border-box">(2) 0 ≤ <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">n</code> ≤ 500, 0 ≤ <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">nums[i]</code> ≤ 100</p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal"><span style="box-sizing: border-box; font-weight: bold">Example:</span></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Given <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">[3, 1, 5, 8]</code></p>
<p style="box-sizing: border-box; font-size: 14px; font-family: &#39;Helvetica Neue&#39;, helvetica, arial, sans-serif; color: #333333; orphans: 2; widows: 2; margin: 0px 0px 10px; font-variant-ligatures: normal">Return <code style="box-sizing: border-box; font-size: 12px; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; color: #c7254e; padding-bottom: 2px; padding-top: 2px; padding-left: 4px; padding-right: 4px; background-color: #f9f2f4; border-radius: 4px">167</code></p>
<pre style="box-sizing: border-box; font-size: 13px; overflow: auto; word-wrap: break-word; border-top: #cccccc 1px solid; font-family: menlo, monaco, consolas, &#39;Courier New&#39;, monospace; border-right: #cccccc 1px solid; border-bottom: #cccccc 1px solid; word-break: break-all; color: #333333; padding-bottom: 9px; padding-top: 9px; padding-left: 9px; border-left: #cccccc 1px solid; orphans: 2; widows: 2; margin: 0px 0px 10px; line-height: 1.4285; padding-right: 9px; background-color: #f5f5f5; font-variant-ligatures: normal; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px">    nums = [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []
   coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167</pre>
<p>【解答】这道题其实难度我觉得Medium比较合适。</p>
<p>直观上，要使结果尽可能大，那么大的数要晚些引爆，这样不断参与乘法运算，就能使结果尽可能大。</p>
<p>对于首尾气球的处理，题目已经给了提示，nums[-1] = nums[n] = 1，因此创建一个长度为nums.length+2的数组。动态规划的记忆数组cache[from][to]表示从from个气球到to个气球，全部爆炸以后得到的值是多少。</p>
<p>接着，每次爆炸的时候，考虑根据切分点i把当前气球序列分成leftPart和rightPart两部分，其中leftPart为[from, i)，rightPart为(i, to]，因此递归求出leftPart和rightPart的值，并和nums[i]相乘，取不同i取值下的最大值。</p>
<div><div id="highlighter_722964" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Solution {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">maxCoins(</code><code class="java keyword">int</code><code class="java plain">[] nums) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[] clone = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[nums.length + </code><code class="java value">2</code><code class="java plain">];</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">clone[</code><code class="java value">0</code><code class="java plain">] = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">clone[nums.length + </code><code class="java value">1</code><code class="java plain">] = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; nums.length; i++)</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">clone[i + </code><code class="java value">1</code><code class="java plain">] = nums[i];</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[][] cache = </code><code class="java keyword">new</code> <code class="java keyword">int</code><code class="java plain">[nums.length + </code><code class="java value">2</code><code class="java plain">][nums.length + </code><code class="java value">2</code><code class="java plain">];</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">maxCoins(clone, </code><code class="java value">1</code><code class="java plain">, nums.length, cache);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">int</code> <code class="java plain">maxCoins(</code><code class="java keyword">int</code><code class="java plain">[] nums, </code><code class="java keyword">int</code> <code class="java plain">from, </code><code class="java keyword">int</code> <code class="java plain">to, </code><code class="java keyword">int</code><code class="java plain">[][] cache) {</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(cache[from][to] &gt; </code><code class="java value">0</code><code class="java plain">)</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">cache[from][to];</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">max = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = from; i &lt;= to; i++) {</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">leftPart = maxCoins(nums, from, i - </code><code class="java value">1</code><code class="java plain">, cache);</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">rightPart = maxCoins(nums, i + </code><code class="java value">1</code><code class="java plain">, to, cache);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">max = Math.max(max, leftPart + nums[from - </code><code class="java value">1</code><code class="java plain">] * nums[i] * nums[to + </code><code class="java value">1</code><code class="java plain">] + rightPart);</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cache[from][to] = max;</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">max;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong><font color="#ff0000">文章未经特殊标明皆为本人原创，未经许可不得用于任何商业用途，转载请保持完整性并注明来源链接<a href="http://www.raychase.net/4077">《四火的唠叨》</a></font></strong></p>
<!--===================下面是分享到代码=====================--><div id="tho-shareto"><span class="shareto-text">分享到：</span><span><a href="javascript:void(0);" onclick="shareToSina(&#39;《LeetCode题目解答——第311到371题》 @RayChase 来自“四火的唠叨”博客&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到新浪" class="sina"></a></span><span><a href="javascript:void(0);" onclick="shareToTengxun(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到腾讯微博" class="tengxun"></a></span><span><a href="javascript:void(0);" onclick="shareToQzone(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到QQ空间" class="qq"></a></span><span><a href="javascript:var b=document.body;var GR________bookmarklet_domain=&#39;http://www.google.com&#39;;if(b&amp;&amp;!document.xmlVersion){void(z=document.createElement(&#39;script&#39;));void(z.src=&#39;http://www.google.com/reader/ui/link-bookmarklet.js&#39;);void(b.appendChild(z));}else{}" onclick="shareToGoogle()" title="分享到Google Reader" class="google"></a></span><span><a href="javascript:void(0);" onclick="shareToRenren(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到人人网" class="renren"></a></span><span><a href="javascript:void(0);" onclick="shareToDouban(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到豆瓣" class="douban"></a></span><span><a href="javascript:void(0);" onclick="shareToXianguo(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到鲜果" class="xianguo"></a></span><span><a href="javascript:void(0);" onclick="shareToKaixin(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到开心" class="kaixin"></a></span><span><a href="javascript:void(0);" onclick="shareToFollow5(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到Follow5" class="follow5"></a></span><span><a href="javascript:void(0);" onclick="shareToTongxue(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到同学网" class="tongxue"></a></span><span><a href="javascript:void(0);" onclick="shareToDigu(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到嘀咕" class="digu"></a></span><span><a href="javascript:void(0);" onclick="shareToFanfou(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到饭否" class="fanfou"></a></span><span><a href="javascript:void(0);" onclick="shareToZuosa(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到做啥" class="zuosa"></a></span><span><a href="javascript:void(0);" onclick="shareToBaidu(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到百度收藏" class="baidu"></a></span><span><a href="javascript:void(0);" onclick="shareToTwitter(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="分享到twitter" class="twitter"></a></span><span><a href="javascript:void(0);" onclick="shareToFavorite(&#39;LeetCode题目解答——第311到371题&#39;, &#39;http://www.raychase.net/index.php?p=4077&#39;)" title="添加到收藏夹" class="favorites"></a></span></div><!--===================分享到代码结束=====================-->					<div class="clear"></div>
										<!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.raychase.net/4077"
    dc:identifier="http://www.raychase.net/4077"
    dc:title="LeetCode题目解答&mdash;&mdash;第311到371题"
    trackback:ping="http://www.raychase.net/4077/trackback" />
</rdf:RDF> -->
				</div>
				
				
				<div class="postinfo">
					四火 |
 					2,653 次阅读|
					<a href="http://www.raychase.net/4077#comments">2 comments</a>
					 | Tags: <a href="http://www.raychase.net/tag/leetcode" rel="tag">LeetCode</a>									</div>

			</div>

		
					
			

<!-- You can start editing here. -->


<div id="comments">
	<h3 id="comment_head">2 comments</h3>

		
	<ol class="commentlist">
			<li class="comment even thread-even depth-1 parent" id="comment-321357">
				<div id="div-comment-321357" class="comment-body">
				<div class="comment-author vcard">
				<cite class="fn"><a href="http://cn.abnerchou.me/" rel="external nofollow" class="url" onclick="urchinTracker(&#39;/outgoing/cn.abnerchou.me?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">Abner</a></cite> <span class="says">说道：</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://www.raychase.net/4077/comment-page-1#comment-321357">
			2017 年 1 月 23 日 下午 11:45</a>		</div>

		<p>能讲解下做LeetCode的好处么？</p>

		<div class="reply">
		<a class="comment-reply-link" href="http://www.raychase.net/4077?replytocom=321357#respond" onclick="return addComment.moveForm(&quot;div-comment-321357&quot;, &quot;321357&quot;, &quot;respond&quot;, &quot;4077&quot;)">回复</a>		</div>
				</div>
		<ul class="children">
		<li class="comment byuser comment-author-6116353 bypostauthor odd alt depth-2" id="comment-321358">
				<div id="div-comment-321358" class="comment-body">
				<div class="comment-author vcard">
				<cite class="fn"><a href="http://www.raychase.net/" rel="external nofollow" class="url">四火</a></cite> <span class="says">说道：</span>		</div>

		<div class="comment-meta commentmetadata"><a href="http://www.raychase.net/4077/comment-page-1#comment-321358">
			2017 年 1 月 24 日 上午 3:07</a>		</div>

		<p>算法练习而已。<br>
有很多途径可以选，也可以选别的方式。</p>

		<div class="reply">
		<a class="comment-reply-link" href="http://www.raychase.net/4077?replytocom=321358#respond" onclick="return addComment.moveForm(&quot;div-comment-321358&quot;, &quot;321358&quot;, &quot;respond&quot;, &quot;4077&quot;)">回复</a>		</div>
				</div>
		</li>
</ul>
</li>
	</ol>

	<div class="comment_navi">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
	<div class="clear"></div>
</div>
 
									<div id="respond">
				<h3 id="reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.raychase.net/4077#respond" style="display:none;">取消回复</a></small></h3>
									<form action="http://www.raychase.net/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">电子邮件地址不会被公开。</p>							<p class="comment-form-author"><label for="author">姓名</label> <input id="author" name="author" type="text" value="" size="30"></p>
<p class="comment-form-email"><label for="email">电子邮件</label> <input id="email" name="email" type="text" value="" size="30"></p>
<p class="comment-form-url"><label for="url">站点</label><input id="url" name="url" type="text" value="" size="30"></p>
												<p class="comment-form-comment"><label for="comment">评论</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">您可以使用这些 <abbr title="HyperText Markup Language">HTML</abbr> 标签和属性： <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="发表评论">
							<input type="hidden" name="comment_post_ID" value="4077" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="69127c8102"></p>					</form>
							</div><!-- #respond -->
							<div class="clear"></div>
		
		</div>
		
	
<div id="sidebar">	
	<ul>

<li id="text-3" class="widget widget_text"><h2 class="widgettitle">订阅·联系</h2>
			<div class="textwidget"><p style="margin-top:7px; margin-bottom:7px; font-size:0.95em;">四火，Amazon程序员 <a href="http://www.raychase.net/2353" target="_blank">全栈工程师</a> @西雅图</p>

<a href="http://www.raychase.net/feed" target="_blank"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/01/rss1.png" title="RSS"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/01/rss1.png" title="RSS"&gt;</noscript></a>

<a href="http://www.feedly.com/home#subscription/feed/http://www.raychase.net/feed" target="_blank" onclick="urchinTracker(&#39;/outgoing/www.feedly.com/home_subscription/feed/http_//www.raychase.net/feed?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/03/feedly.jpg" title="Feedly"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/03/feedly.jpg" title="Feedly"&gt;</noscript></a>

<a href="mailto:RayChase1986@gmail.com"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/01/email.jpg" title="邮件"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/01/email.jpg" title="邮件"&gt;</noscript></a>

<a href="http://weibo.com/raychase" target="_blank" onclick="urchinTracker(&#39;/outgoing/weibo.com/raychase?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/01/weibo.jpg" title="新浪微博"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/01/weibo.jpg" title="新浪微博"&gt;</noscript></a>

<a href="https://www.zhihu.com/people/raychase" target="_blank" onclick="urchinTracker(&#39;/outgoing/www.zhihu.com/people/raychase?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2016/01/zhihu.png" title="知乎"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2016/01/zhihu.png" title="知乎"&gt;</noscript></a>

<a href="javascript:alert(&#39;我的微信号：RayChase1986&#39;)"><img class="sl_lazyimg" width="30" height="30" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2017/03/wechat.png" title="微信"><noscript>&lt;img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2017/03/wechat.png" title="微信"&gt;</noscript></a>

<!--a href="http://www.xianguo.com/subscribe.php?url=http://www.raychase.net/feed/" target="_blank"><img class="sl_lazyimg" width="30" height="30" src="http://www.raychase.net/wp-content/plugins/simple-lazyload/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/01/xianguo.jpg" title="鲜果"><noscript><img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/01/xianguo.jpg" title="鲜果"></noscript></a>
<a href="http://9.douban.com/reader/subscribe?url=http://www.raychase.net/" target="_blank" onclick="urchinTracker('/outgoing/9.douban.com/reader/subscribe?url=http_//www.raychase.net/&amp;referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure');"><img class="sl_lazyimg" width="30" height="30" src="http://www.raychase.net/wp-content/plugins/simple-lazyload/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/01/douban.jpg" title="豆瓣9点"><noscript><img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/01/douban.jpg" title="豆瓣9点"></noscript></a>
<a href="http://www.zhuaxia.com/add_channel.php?url=http://www.raychase.net/" target="_blank" onclick="urchinTracker('/outgoing/www.zhuaxia.com/add_channel.php?url=http_//www.raychase.net/&amp;referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure');"><img class="sl_lazyimg" width="30" height="30" src="http://www.raychase.net/wp-content/plugins/simple-lazyload/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/02/zhuaxia.gif" title="抓虾"><noscript><img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/02/zhuaxia.gif" title="抓虾"></noscript></a>
<a href="http://r.qq.com/cgi-bin/reader_switch?u=http://www.raychase.net/feed" target="_blank" onclick="urchinTracker('/outgoing/r.qq.com/cgi-bin/reader_switch?u=http_//www.raychase.net/feed&amp;referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure');"><img class="sl_lazyimg" width="30" height="30" src="http://www.raychase.net/wp-content/plugins/simple-lazyload/blank_1x1.gif" file="http://www.raychase.net/wp-content/uploads/2014/02/qq.png" title="QQ邮箱"><noscript><img width="30" height="30" src="http://www.raychase.net/wp-content/uploads/2014/02/qq.png" title="QQ邮箱"></noscript></a--></div>
		</li>
<li id="search-2" class="widget widget_search"><h2 class="widgettitle">站内搜索</h2>
<form role="search" method="get" id="searchform" action="http://www.raychase.net/">
	<div><label class="screen-reader-text" for="s">搜索：</label>
	<input type="text" value="" name="s" id="s">
	<input type="submit" id="searchsubmit" value="搜索">
	</div>
	</form></li>
<li id="mycategoryorder-3" class="widget widget_mycategoryorder"><h2 class="widgettitle">分类目录</h2>
		<ul>
			<li class="cat-item cat-item-227"><a href="http://www.raychase.net/category/commentary" title="查看 Commentary 下的所有文章">Commentary</a> (17)
</li>
	<li class="cat-item cat-item-3"><a href="http://www.raychase.net/category/frontend-development" title="查看 Front-end Development 下的所有文章">Front-end Development</a> (11)
</li>
	<li class="cat-item cat-item-96"><a href="http://www.raychase.net/category/thinking-in-code" title="查看 Thinking In Code 下的所有文章">Thinking In Code</a> (12)
</li>
	<li class="cat-item cat-item-13"><a href="http://www.raychase.net/category/algorithm-data-structure" title="查看 Algorithm &amp; Data Structure 下的所有文章">Algorithm &amp; Data Structure</a> (22)
</li>
	<li class="cat-item cat-item-304"><a href="http://www.raychase.net/category/big-data-machine-learning" title="查看 Big Data &amp; Machine Learning 下的所有文章">Big Data &amp; Machine Learning</a> (5)
</li>
	<li class="cat-item cat-item-457"><a href="http://www.raychase.net/category/distributed-system" title="查看 Distributed System 下的所有文章">Distributed System</a> (11)
</li>
	<li class="cat-item cat-item-345"><a href="http://www.raychase.net/category/data-visualization" title="查看 Data Visualization 下的所有文章">Data Visualization</a> (5)
</li>
	<li class="cat-item cat-item-328"><a href="http://www.raychase.net/category/virtual-machine" title="查看 Virtual Machine 下的所有文章">Virtual Machine</a> (4)
</li>
	<li class="cat-item cat-item-5"><a href="http://www.raychase.net/category/framework-lib" title="查看 Framework &amp; Lib 下的所有文章">Framework &amp; Lib</a> (6)
</li>
	<li class="cat-item cat-item-166"><a href="http://www.raychase.net/category/java" title="查看 Java 下的所有文章">Java</a> (8)
</li>
	<li class="cat-item cat-item-7"><a href="http://www.raychase.net/category/javascript" title="查看 JavaScript 下的所有文章">JavaScript</a> (18)
</li>
	<li class="cat-item cat-item-436"><a href="http://www.raychase.net/category/programming-paradigm" title="查看 Programming Paradigm 下的所有文章">Programming Paradigm</a> (12)
</li>
	<li class="cat-item cat-item-17"><a href="http://www.raychase.net/category/other-programming-language" title="查看 Other Programming Language 下的所有文章">Other Programming Language</a> (12)
</li>
	<li class="cat-item cat-item-54"><a href="http://www.raychase.net/category/concurrency-asynchronism" title="查看 Concurrency &amp; Asynchronism 下的所有文章">Concurrency &amp; Asynchronism</a> (6)
</li>
	<li class="cat-item cat-item-16"><a href="http://www.raychase.net/category/oo-design" title="查看 OO Design 下的所有文章">OO Design</a> (14)
</li>
	<li class="cat-item cat-item-8"><a href="http://www.raychase.net/category/database" title="查看 Database 下的所有文章">Database</a> (5)
</li>
	<li class="cat-item cat-item-69"><a href="http://www.raychase.net/category/network" title="查看 Network 下的所有文章">Network</a> (4)
</li>
	<li class="cat-item cat-item-19"><a href="http://www.raychase.net/category/system-design-architecture" title="查看 System Design &amp; Architecture 下的所有文章">System Design &amp; Architecture</a> (18)
</li>
	<li class="cat-item cat-item-50"><a href="http://www.raychase.net/category/testing" title="查看 Testing 下的所有文章">Testing</a> (3)
</li>
	<li class="cat-item cat-item-215"><a href="http://www.raychase.net/category/building-deployment" title="查看 Building &amp; Deployment 下的所有文章">Building &amp; Deployment</a> (3)
</li>
	<li class="cat-item cat-item-552"><a href="http://www.raychase.net/category/tool" title="查看 Tool 下的所有文章">Tool</a> (4)
</li>
	<li class="cat-item cat-item-316"><a href="http://www.raychase.net/category/product-design" title="查看 Product Design 下的所有文章">Product Design</a> (4)
</li>
	<li class="cat-item cat-item-228"><a href="http://www.raychase.net/category/hiring" title="查看 Hiring 下的所有文章">Hiring</a> (8)
</li>
	<li class="cat-item cat-item-360"><a href="http://www.raychase.net/category/engineering-culture" title="查看 Engineering Culture 下的所有文章">Engineering Culture</a> (17)
</li>
	<li class="cat-item cat-item-9"><a href="http://www.raychase.net/category/engineering-management" title="查看 Engineering Management 下的所有文章">Engineering Management</a> (17)
</li>
	<li class="cat-item cat-item-376"><a href="http://www.raychase.net/category/career" title="查看 Career 下的所有文章">Career</a> (21)
</li>
	<li class="cat-item cat-item-469"><a href="http://www.raychase.net/category/learning-thinking" title="查看 Learning &amp; Thinking 下的所有文章">Learning &amp; Thinking</a> (8)
</li>
	<li class="cat-item cat-item-523"><a href="http://www.raychase.net/category/math" title="查看 Math 下的所有文章">Math</a> (3)
</li>
	<li class="cat-item cat-item-10"><a href="http://www.raychase.net/category/life" title="查看 Life 下的所有文章">Life</a> (23)
</li>
	<li class="cat-item cat-item-524"><a href="http://www.raychase.net/category/football" title="查看 Football 下的所有文章">Football</a> (6)
</li>
	<li class="cat-item cat-item-520"><a href="http://www.raychase.net/category/travel" title="查看 Travel 下的所有文章">Travel</a> (6)
</li>
	<li class="cat-item cat-item-569"><a href="http://www.raychase.net/category/music" title="查看 Music 下的所有文章">Music</a> (3)
</li>
	<li class="cat-item cat-item-586"><a href="http://www.raychase.net/category/game" title="查看 Game 下的所有文章">Game</a> (3)
</li>
		</ul>
		</li>
<li id="category-posts-2" class="widget cat-post-widget"><h2 class="widgettitle">推荐文章</h2>
<ul>
				
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/4450" rel="bookmark">求第K个数的问题					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/4111" rel="bookmark">一些前端框架的比较（下）——Ember.js和React					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/4104" rel="bookmark">一些前端框架的比较（上）——GWT、AngularJS和Backbone.js					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/4100" rel="bookmark">技术光谱					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3998" rel="bookmark">工作流系统的设计					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3689" rel="bookmark">从淘汰Oracle数据库的事情说起					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3546" rel="bookmark">Spark的性能调优					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3395" rel="bookmark">“残酷”的事实					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3196" rel="bookmark">七年工作，几个故事					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/3139" rel="bookmark">从Java和JavaScript来学习Haskell和Groovy（汇总）					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2878" rel="bookmark">系统设计典型问题的思考					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2861" rel="bookmark">一道随机数题目的求解					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2763" rel="bookmark">LeetCode算法题目解答汇总					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2484" rel="bookmark">层次					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2396" rel="bookmark">Dynamo的实现技术和去中心化					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2353" rel="bookmark">也谈谈全栈工程师					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2338" rel="bookmark">多重继承的演变					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2310" rel="bookmark">编程范型：工具的选择					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/2185" rel="bookmark">GWT初体验					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1912" rel="bookmark">java.util.concurrent并发包诸类概览					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1887" rel="bookmark">从DCL的对象安全发布谈起					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1658" rel="bookmark">不同团队的困惑					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1615" rel="bookmark">留心那些潜在的系统设计问题					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1374" rel="bookmark">再谈大楼扔鸡蛋的问题					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1169" rel="bookmark">几种华丽无比的开发方式					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1107" rel="bookmark">我眼中的工程师文化					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1087" rel="bookmark">观点的碰撞					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1052" rel="bookmark">谈谈盗版软件问题					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/1000" rel="bookmark">对几个软件开发传统观点的质疑和反驳					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/850" rel="bookmark">MVC框架的映射和解耦					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/807" rel="bookmark">编程的未来					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/730" rel="bookmark">DAO的演进					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/707" rel="bookmark">致那些自嘲码农的苦逼程序员					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/698" rel="bookmark">Java多线程发展简史					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/589" rel="bookmark">珍爱生命，远离微博					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/311" rel="bookmark">网站性能优化的三重境界					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/293" rel="bookmark">OSCache框架源码解析					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/379" rel="bookmark">“你不适合做程序员”					</a>

									</li>
								
				<li>
					
										
					
					<a class="post-title " href="http://www.raychase.net/253" rel="bookmark">画圆画方的故事					</a>

									</li>
				</ul>
<a href="http://www.raychase.net/category/recommended"></a></li>
<li id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widgettitle">标签</h2>
<div class="tagcloud"><a href="http://www.raychase.net/tag/amazon" class="tag-link-94" title="5 个话题" style="font-size: 11.5pt;">Amazon</a>
<a href="http://www.raychase.net/tag/api" class="tag-link-89" title="3 个话题" style="font-size: 8pt;">API</a>
<a href="http://www.raychase.net/tag/c" class="tag-link-224" title="4 个话题" style="font-size: 9.9444444444444pt;">C++</a>
<a href="http://www.raychase.net/tag/google" class="tag-link-67" title="4 个话题" style="font-size: 9.9444444444444pt;">Google</a>
<a href="http://www.raychase.net/tag/grails" class="tag-link-28" title="3 个话题" style="font-size: 8pt;">Grails</a>
<a href="http://www.raychase.net/tag/groovy" class="tag-link-32" title="7 个话题" style="font-size: 13.833333333333pt;">Groovy</a>
<a href="http://www.raychase.net/tag/hadoop" class="tag-link-305" title="5 个话题" style="font-size: 11.5pt;">Hadoop</a>
<a href="http://www.raychase.net/tag/haskell" class="tag-link-511" title="5 个话题" style="font-size: 11.5pt;">Haskell</a>
<a href="http://www.raychase.net/tag/java" class="tag-link-166" title="18 个话题" style="font-size: 21.222222222222pt;">Java</a>
<a href="http://www.raychase.net/tag/javascript_" class="tag-link-35" title="12 个话题" style="font-size: 17.916666666667pt;">JavaScript</a>
<a href="http://www.raychase.net/tag/leetcode" class="tag-link-484" title="9 个话题" style="font-size: 15.777777777778pt;">LeetCode</a>
<a href="http://www.raychase.net/tag/perl" class="tag-link-30" title="3 个话题" style="font-size: 8pt;">Perl</a>
<a href="http://www.raychase.net/tag/spark" class="tag-link-551" title="6 个话题" style="font-size: 12.861111111111pt;">Spark</a>
<a href="http://www.raychase.net/tag/%e4%ba%92%e8%81%94%e7%bd%91" class="tag-link-120" title="4 个话题" style="font-size: 9.9444444444444pt;">互联网</a>
<a href="http://www.raychase.net/tag/%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b" class="tag-link-93" title="3 个话题" style="font-size: 8pt;">函数式编程</a>
<a href="http://www.raychase.net/tag/%e5%89%8d%e7%ab%af" class="tag-link-20" title="4 个话题" style="font-size: 9.9444444444444pt;">前端</a>
<a href="http://www.raychase.net/tag/%e5%8e%86%e5%8f%b2" class="tag-link-145" title="5 个话题" style="font-size: 11.5pt;">历史</a>
<a href="http://www.raychase.net/tag/%e5%90%8c%e6%ad%a5" class="tag-link-43" title="3 个话题" style="font-size: 8pt;">同步</a>
<a href="http://www.raychase.net/tag/%e5%b7%a5%e4%bd%9c" class="tag-link-175" title="5 个话题" style="font-size: 11.5pt;">工作</a>
<a href="http://www.raychase.net/tag/%e5%b7%a5%e4%bd%9c%e6%b5%81" class="tag-link-182" title="4 个话题" style="font-size: 9.9444444444444pt;">工作流</a>
<a href="http://www.raychase.net/tag/%e5%b7%a5%e5%85%b7" class="tag-link-160" title="4 个话题" style="font-size: 9.9444444444444pt;">工具</a>
<a href="http://www.raychase.net/tag/%e5%b7%a5%e7%a8%8b%e5%b8%88" class="tag-link-256" title="6 个话题" style="font-size: 12.861111111111pt;">工程师</a>
<a href="http://www.raychase.net/tag/%e5%bc%82%e6%ad%a5" class="tag-link-44" title="3 个话题" style="font-size: 8pt;">异步</a>
<a href="http://www.raychase.net/tag/%e5%be%ae%e5%8d%9a" class="tag-link-156" title="6 个话题" style="font-size: 12.861111111111pt;">微博</a>
<a href="http://www.raychase.net/tag/%e6%80%9d%e8%80%83" class="tag-link-131" title="3 个话题" style="font-size: 8pt;">思考</a>
<a href="http://www.raychase.net/tag/%e6%8a%80%e6%9c%af" class="tag-link-180" title="6 个话题" style="font-size: 12.861111111111pt;">技术</a>
<a href="http://www.raychase.net/tag/%e6%8b%9b%e8%81%98" class="tag-link-245" title="3 个话题" style="font-size: 8pt;">招聘</a>
<a href="http://www.raychase.net/tag/%e6%8e%a5%e5%8f%a3" class="tag-link-183" title="3 个话题" style="font-size: 8pt;">接口</a>
<a href="http://www.raychase.net/tag/%e6%95%b0%e6%8d%ae%e5%ba%93" class="tag-link-58" title="3 个话题" style="font-size: 8pt;">数据库</a>
<a href="http://www.raychase.net/tag/%e6%9b%bc%e8%81%94" class="tag-link-405" title="4 个话题" style="font-size: 9.9444444444444pt;">曼联</a>
<a href="http://www.raychase.net/tag/%e6%a8%a1%e5%bc%8f" class="tag-link-181" title="3 个话题" style="font-size: 8pt;">模式</a>
<a href="http://www.raychase.net/tag/%e6%b5%8b%e8%af%95" class="tag-link-114" title="5 个话题" style="font-size: 11.5pt;">测试</a>
<a href="http://www.raychase.net/tag/%e7%94%9f%e6%b4%bb" class="tag-link-339" title="8 个话题" style="font-size: 14.805555555556pt;">生活</a>
<a href="http://www.raychase.net/tag/%e7%a8%8b%e5%ba%8f%e5%91%98" class="tag-link-127" title="20 个话题" style="font-size: 22pt;">程序员</a>
<a href="http://www.raychase.net/tag/%e7%bc%93%e5%ad%98" class="tag-link-105" title="5 个话题" style="font-size: 11.5pt;">缓存</a>
<a href="http://www.raychase.net/tag/%e7%bc%96%e7%a8%8b%e8%8c%83%e5%9e%8b" class="tag-link-425" title="4 个话题" style="font-size: 9.9444444444444pt;">编程范型</a>
<a href="http://www.raychase.net/tag/%e7%bd%91%e7%ab%99" class="tag-link-106" title="3 个话题" style="font-size: 8pt;">网站</a>
<a href="http://www.raychase.net/tag/%e8%8b%b1%e8%af%ad" class="tag-link-153" title="4 个话题" style="font-size: 9.9444444444444pt;">英语</a>
<a href="http://www.raychase.net/tag/%e8%a5%bf%e9%9b%85%e5%9b%be" class="tag-link-157" title="4 个话题" style="font-size: 9.9444444444444pt;">西雅图</a>
<a href="http://www.raychase.net/tag/%e8%ae%be%e8%ae%a1" class="tag-link-49" title="15 个话题" style="font-size: 19.666666666667pt;">设计</a>
<a href="http://www.raychase.net/tag/%e8%af%84%e5%ae%a1" class="tag-link-110" title="3 个话题" style="font-size: 8pt;">评审</a>
<a href="http://www.raychase.net/tag/%e9%87%8d%e6%9e%84" class="tag-link-39" title="3 个话题" style="font-size: 8pt;">重构</a>
<a href="http://www.raychase.net/tag/%e9%97%ae%e9%a2%98" class="tag-link-130" title="8 个话题" style="font-size: 14.805555555556pt;">问题</a>
<a href="http://www.raychase.net/tag/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1" class="tag-link-41" title="4 个话题" style="font-size: 9.9444444444444pt;">面向对象</a>
<a href="http://www.raychase.net/tag/%e9%9d%a2%e8%af%95" class="tag-link-61" title="6 个话题" style="font-size: 12.861111111111pt;">面试</a></div>
</li>
<li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widgettitle">近期评论</h2>
<ul id="recentcomments"><li class="recentcomments">lynette 发表在《<a href="http://www.raychase.net/2685/comment-page-1#comment-321943">LeetCode题目解答——Hard部分</a>》</li><li class="recentcomments">lynette 发表在《<a href="http://www.raychase.net/2685/comment-page-1#comment-321942">LeetCode题目解答——Hard部分</a>》</li><li class="recentcomments"><a href="http://www.starwavelin.com/" rel="external nofollow" class="url" onclick="urchinTracker(&#39;/outgoing/www.starwavelin.com?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">Starwave Lin</a> 发表在《<a href="http://www.raychase.net/resources/comment-page-1#comment-321937">资源链接</a>》</li><li class="recentcomments">Brielle.Z 发表在《<a href="http://www.raychase.net/aboutme/comment-page-2#comment-321909">关于四火</a>》</li><li class="recentcomments">threelu 发表在《<a href="http://www.raychase.net/4068/comment-page-1#comment-321901">写在孩子出生以后</a>》</li><li class="recentcomments"><a href="http://www.raychase.net/" rel="external nofollow" class="url">四火</a> 发表在《<a href="http://www.raychase.net/4450/comment-page-1#comment-321895">求第K个数的问题</a>》</li><li class="recentcomments">Xin v31.1.1 发表在《<a href="http://www.raychase.net/4450/comment-page-1#comment-321891">求第K个数的问题</a>》</li><li class="recentcomments"><a href="http://www.xuecaijie.com/" rel="external nofollow" class="url" onclick="urchinTracker(&#39;/outgoing/www.xuecaijie.com?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">GavinHsueh</a> 发表在《<a href="http://www.raychase.net/4301/comment-page-1#comment-321881">谈谈于丹</a>》</li><li class="recentcomments"><a href="http://confluence.yitu-inc.com/pages/viewpage.action?pageId=149782699" rel="external nofollow" class="url" onclick="urchinTracker(&#39;/outgoing/confluence.yitu-inc.com/pages/viewpage.action?pageId=149782699&amp;referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">Confluence: 张子名</a> 发表在《<a href="http://www.raychase.net/149/comment-page-1#comment-321818">JavaScript实现继承的几种方式</a>》</li><li class="recentcomments"><a href="http://yuerblog.cc/" rel="external nofollow" class="url" onclick="urchinTracker(&#39;/outgoing/yuerblog.cc?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">owenliang</a> 发表在《<a href="http://www.raychase.net/4339/comment-page-1#comment-321809">React+Redux组合使用之感受</a>》</li></ul></li>
	
	</ul>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49474740-1', 'raychase.net');
  ga('send', 'pageview');

</script>		</div>
		<div class="clear"></div>
		
		<div id="footer">
						<div class="credit_link">Theme by <a href="http://themezee.com/zeecorporate" onclick="urchinTracker(&#39;/outgoing/themezee.com/zeecorporate?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">ThemeZee.com</a></div>
			<div class="clear"></div>
		</div>
	</div>
	<br><!-- Feedage.com RSS Feed Tracking -->
<table border="0" align="center" cellpadding="1" cellspacing="1">
<tbody><tr align="left">
<td><a href="http://www.feedage.com/feeds//" onclick="urchinTracker(&#39;/outgoing/www.feedage.com/feeds//?referer=http%3A%2F%2Fwww.raychase.net%2Fcategory%2Falgorithm-data-structure&#39;);">
<img class="sl_lazyimg" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/blank_1x1.gif" file="http://www.feedage.com/images/add2feedage.gif" width="69" height="17" border="0" alt="Preview on Feedage: "><noscript>&lt;img src='http://www.feedage.com/images/add2feedage.gif' width='69' height='17' border='0' alt='Preview on Feedage: '&gt;</noscript></a></td>
</tr></tbody></table>
<!-- Feedage.com RSS Feed Tracking -->

<!-- Simple Lazyload 2.7 - css and js -->
<style type="text/css">
.sl_lazyimg{
opacity:0.1;filter:alpha(opacity=10);
background:url(http://www.raychase.net/wp-content/plugins/simple-lazyload/loading2.gif) no-repeat center center;
}
</style>

<noscript>
&lt;style type="text/css"&gt;
.sl_lazyimg{display:none;}
&lt;/style&gt;
</noscript>

<script type="text/javascript">
Array.prototype.S = String.fromCharCode(2);
Array.prototype.in_array = function(e) {
	var r = new RegExp(this.S+e+this.S);
	return (r.test(this.S+this.join(this.S)+this.S));
};

Array.prototype.pull=function(content){
	for(var i=0,n=0;i<this.length;i++){
		if(this[i]!=content){
			this[n++]=this[i];
		}
	}
	this.length-=1;
};

jQuery(function($) {
window._lazyimgs = $("img.sl_lazyimg");
if (_lazyimgs.length == 0) {
	return;
}
var toload_inds = [];
var loaded_inds = [];
var failed_inds = [];
var failed_count = {};
var lazyload = function() {
	if (loaded_inds.length==_lazyimgs.length) {
		return;
	}
	var threshold = 200;
	_lazyimgs.each(function(i){
		_self = $(this);
		if ( _self.attr("lazyloadpass")===undefined && _self.attr("file")
			&& ( !_self.attr("src") || (_self.attr("src") && _self.attr("file")!=_self.attr("src")) )
			) {
			if( (_self.offset().top) < ($(window).height()+$(document).scrollTop()+threshold)
				&& (_self.offset().left) < ($(window).width()+$(document).scrollLeft()+threshold)
				&& (_self.offset().top) > ($(document).scrollTop()-threshold)
				&& (_self.offset().left) > ($(document).scrollLeft()-threshold)
				) {
				if (toload_inds.in_array(i)) {
					return;
				}
				toload_inds.push(i);
				if (failed_count["count"+i] === undefined) {
					failed_count["count"+i] = 0;
				}
				_self.css("opacity",1);
				$("<img ind=\""+i+"\"/>").bind("load", function(){
					var ind = $(this).attr("ind");
					if (loaded_inds.in_array(ind)) {
						return;
					}
					loaded_inds.push(ind);
					var _img = _lazyimgs.eq(ind);
					_img.attr("src",_img.attr("file")).css("background-image","none").attr("lazyloadpass","1");
				}).bind("error", function(){
					var ind = $(this).attr("ind");
					if (!failed_inds.in_array(ind)) {
						failed_inds.push(ind);
					}
					failed_count["count"+ind]++;
					if (failed_count["count"+ind] < 2) {
						toload_inds.pull(ind);
					}
				}).attr("src", _self.attr("file"));
			}
		}
	});
}
lazyload();
var ins;
$(window).scroll(function(){clearTimeout(ins);ins=setTimeout(lazyload,100);});
$(window).resize(function(){clearTimeout(ins);ins=setTimeout(lazyload,100);});
});

jQuery(function($) {
var calc_image_height = function(_img) {
	var width = _img.attr("width");
	var height = _img.attr("height");
	if ( !(width && height && width>=300) ) return;
	var now_width = _img.width();
	var now_height = parseInt(height * (now_width/width));
	_img.css("height", now_height);
}
var fix_images_height = function() {
	_lazyimgs.each(function() {
		calc_image_height($(this));
	});
}
fix_images_height();
$(window).resize(fix_images_height);
});
</script>
<!-- Simple Lazyload 2.7 - css and js END -->
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shCore.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushAS3.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushBash.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushColdFusion.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushClojure.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushCpp.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushCSharp.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushCss.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushDelphi.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushDiff.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushErlang.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushFSharp.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushGroovy.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushJava.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushJavaFX.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushJScript.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushLatex.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushMatlabKey.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushObjC.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushPerl.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushPhp.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushPlain.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushPowerShell.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushPython.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushR.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushRuby.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushScala.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushSql.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushVb.js.下载"></script>
<script type="text/javascript" src="./LeetCode题目解答——第311到371题 _ 四火的唠叨_files/shBrushXml.js.下载"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://www.raychase.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://www.raychase.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '帮助';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = '无法找到Brush：';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush不能设置 html-script选项';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>

	
</body></html>